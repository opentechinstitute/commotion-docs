<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Commotion Wireless</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Commotion is an open-source communication tool that uses mobile phones, computers, and other wireless devices to create decentralized mesh networks.">

    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/commotion.css" rel="stylesheet">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link href="/css/bootstrap-responsive.css" rel="stylesheet">
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
<body>
<div class="navbar navbar-inverse">
  <div class="boxes-box" id="boxes-box-top_colors">
    <div class="boxes-box-content">
      <div class="navbar-inners">
        <div class="color0">&nbsp;</div>
        <div class="color1">&nbsp;</div>
        <div class="color2">&nbsp;</div>
        <div class="color3">&nbsp;</div>
        <div class="color4">&nbsp;</div>
      </div> 
    </div>
  </div>
</div>


<div id="logo">
  <a href="/"><img src="/images/commotion_kbabout_measure-03_0_0.png" alt="Commotion Wireless logo"/></a>
</div>
 
<div id="navbar">
  <ul class="nav nav-pills">
    <li class="dropdown">
      <a id="aboutMenu" href="/about" data-toggle="dropdown" role="button" class="menu-top-level">
        About
        <b class="caret"></b>
      </a>
      <ul id="aboutMenu" class="dropdown-menu" aria-labelledby="aboutMenu" role="menu">
        <li role="presentation"><a role="menuitem" tabindex="-1" href="/about">About Commotion</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-1" href="/about/faq">FAQ</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-1" href="/about/guiding-principles">Guiding Principles</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-1" href="/about/where-its-used">Where It&#039;s Used</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-1" href="/about/press">Press</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-1" href="/about/license-privacy">License &amp; Privacy</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-1" href="/jobs">Jobs</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-1" href="/contact">Contact</a></li>
      </ul>
    </li>
    <li class="static-nodrop"><a href="/blog" title="">Blog</a></li>
    <li class="dropdown">
      <a id="getHelpMenu" href="/docs" data-toggle="dropdown" role="button" class="menu-top-level">
        Get Help
        <b class="caret"></b>
      </a>
      <ul id="getHelpMenu" class="dropdown-menu" aria-labelledby="getHelpMenu" role="menu">
        <li role="presentation"><a role="menuitem" tabindex="-2" href="/docs/get-started">Get Started</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-2" href="/docs/get-involved">Get Involved</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-2" href="/docs/supported-devices">Supported Devices</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-2" href="/docs/cck">Commotion Construction Kit</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-2" href="/docs/localization">Commotion Localization</a></li>
      </ul>
    </li>
    <li class="dropdown">
      <a id="downloadMenu" href="/download" data-toggle="dropdown" role="button" class="menu-top-level">
        Download
        <b class="caret"></b>
      </a>
      <ul id="downloadMenu" class="dropdown-menu" aria-labelledby="downloadMenu" role="menu">
        <li role="presentation"><a role="menuitem" tabindex="-3" href="/download/routers" title="Downloads for supported routers">Routers</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-3" href="/download/android" title="Downloads for supported cellular phones.">Phones</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-3" href="/download/computers">Computers</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-3" href="/download/openbts" title="Downloads for supported cellular network gateways.">Cellular Networks</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-3" href="/download/verify-signatures" title="">Verifying Downloads</a></li>
      </ul>
    </li>
    <li class="dropdown">
      <a id="developersMenu" href="/developer/resources" data-toggle="dropdown" role="button" class="menu-top-level">
        For Developers
        <b class="caret"></b>
      </a>
      <ul id="developersMenu" class="dropdown-menu" aria-labelledby="developersMenu" role="menu">
        <li role="presentation"><a role="menuitem" tabindex="-4" href="/developer/resources" title="">Developer Resources</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-4" href="/jobs" title="Read and submit bids for open RFPs on the Commotion Wireless project.">Requests for Proposals</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-4" href="https://wiki.commotionwireless.net" title="">Wiki</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-4" href="https://github.com/organizations/opentechinstitute/dashboard/issues/repos?direction=desc&amp;state=open" title="">Issue Tracker</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-4" href="https://github.com/opentechinstitute" title="">Source Code</a></li>
        <li role="presentation"><a role="menuitem" tabindex="-4" href="/developer/hig/introduction">Human Interface Guidelines</a></li>
      </ul>
    </li>
  </ul>
</div>
</div>
 
 
<div class="containercontent pageheadings">
  <hr>
  <h1 class="pageheadings">Building Pop-up Mesh Networks</h1>
</div>
 
<div class="contentcontainer">
  <div class="container">
 
<div class="left-twothird">

 <h2 class="blog-pubdata">2013-10-30 / Ryan Gerety</h2>

<p><img alt='' class='media-image attr__typeof__foaf:Image img__fid__548 img__view_mode__media_large attr__format__media_large' height='222' src='/files/styles/large/public/title_image.png?itok=uhJC0pqH' typeof='foaf:Image' width='480' /></p>

<p>The Open Technology Institute recently conducted a training on how to build pop-up mesh networks using Commotion. Our goal was to quickly deploy a flexible and mobile mesh network across several square blocks using portable battery-powered routers carried in backpacks. <!--more-->Commotion’s dynamic routing allows a network to shift and transform with the movements of the people, creating a highly resilient temporary infrastructure that can distribute Internet access throughout an area or support local area communications and data sharing. In this blogpost, we describe three field trials conducted by participants during the training. In the field trials we used Ubiquiti omnidirectional PicoStation M2 routers and Energizer XP8000 battery packs. These battery packs are compact and able to provide 3-4 hours of power to the routers, but any battery pack that meets the power requirements of the router would suffice - for example, the PicoStations can run on voltages from 15 to 24 volts. The battery packs supply 20 volts. Refer to the voltage markings on your router’s power supply before choosing a battery. <img alt='' class='media-image attr__typeof__foaf:Image img__fid__561 img__view_mode__media_large attr__format__media_large' height='161' src='/files/styles/large/public/equipment_0.png?itok=HPlApBYr' typeof='foaf:Image' width='480' /> At the beginning of the training, participants learned how to install and configure Commotion, mesh several routers together and assess link quality. With these skills, participants went outside and tested the potential reach of the signal at street level of two routers powered by portable battery packs. Ubiquiti estimates that PicoStations can cover up to 500 meters, but every environment has different properties that impact wireless propagation. As with permanent rooftop wireless networks, pop-up networks are impacted by buildings, vegetation, line of sight and other wireless barriers. Street level networks are also impacted by traffic, parked cars, crowds of people and small hills. In these distance tests, participants found that link quality degraded after approximately 200 meters and broke at approximately 300 meters apart. This estimate proved consistent with our <a href='http://oti.newamerica.net/blogposts/2013/commotion_field_test_pop_up_mesh_network_downtown_washington_dc-93217'> previous fields test</a> near the Open Technology Institute’s offices, although we were in a different location. Participants monitored link quality with their smartphones using the Commotion interface to see ETX values and signal strength and Fing to measure ping times.</p>
<table border='0' cellpadding='0' cellspacing='0' style='width: 427px;' width='427px'>
	<tbody>
		<tr>
			<td width='300px'><img alt='' class='media-image attr__typeof__foaf:Image img__fid__549 img__view_mode__media_large attr__format__media_large' src='/files/styles/large/public/p2p.png?itok=SZDHeK_0' style='width: 300px; height: 211px;' typeof='foaf:Image' /></td>
			<td width='127px'><img alt='' class='media-image attr__typeof__foaf:Image img__fid__559 img__view_mode__media_large attr__format__media_large' src='/files/styles/large/public/Screenshot_2013-10-29-13-30-11_0.png?itok=E5zClkvu' style='width: 127px; height: 211px;' typeof='foaf:Image' /></td>
		</tr>
	</tbody>
</table>
<p> <i>Map 1: Two node distance test.</i> We repeated the distance tests and link monitoring exercises, which helped participants develop an intuitive sense of network planning and management. We developed these skills further with our interactive network design and engineering activities, “Wireless Challenges” and “<a href='https://commotionwireless.net/docs/cck/planning/design-your-network-every-network-tells-story'>Every Network Tells A Story</a>,” before moving on to more complex network configurations. Participants then created a network and connected it to the Internet through a gateway Commotion node in a window attached to an ADSL Internet connection. Participants tested this new connection across a more diverse streetscape, adding more nodes to the network. With an Internet gateway on the mesh, participants and OTI staff were able to make VOIP calls and check email while spread out along the street corners. Participants spread out along the streets until each network connection became weak, inhibiting those online activities. Participants found that traffic and parked cars negatively impacted the maximum link distance and used the skills from the earlier activities to solve those problems. The network is shown in Map 2. <img alt='' class='media-image attr__typeof__foaf:Image img__fid__551 img__view_mode__media_large attr__format__media_large' height='294' src='/files/styles/large/public/map2.png?itok=n-xrL_wd' typeof='foaf:Image' width='389' /> <i>Map 2: 6 node field trial with Internet gateway.</i> In the third field trial, participants deployed a network to cover a larger street in a more crowded area and extend the network into smaller side streets. Participants stationed individuals and their portable mesh nodes at particular corners, establishing a stationary backbone of the network. Other participants were roaming nodes; they walked along the back streets to establish network coverage along those streets and experiment with dynamically changing the network. The general configuration is shown in Map 3, as are network statistics captured during the field trial. <img alt='' class='media-image attr__typeof__foaf:Image img__fid__552 img__view_mode__media_large attr__format__media_large' height='319' src='/files/styles/large/public/map3.png?itok=Z-XI2qdf' typeof='foaf:Image' width='390' /> <i>Map 3: 8 node field trial with 7 people remaining relatively stationary and two people moving throughout the area.</i> In this configuration, node 50 moved throughout the network while other nodes remained relatively stationary. Nodes 37 and 182 occasionally had difficulty maintaining connections to the rest of the network. This was both because it was difficult to stand within line of sight, and because those participants had less field experience adjusting their position to improve network performance. <img alt='' class='media-image attr__typeof__foaf:Image img__fid__553 img__view_mode__media_large attr__format__media_large' height='276' src='/files/styles/large/public/olsrviz4.png?itok=hYCCbEeN' typeof='foaf:Image' width='475' /> <i>Image 1: Network visualized with ETX values at point [4] (the last digits of the IP address correspond to the numbers in the map).</i> <img alt='' class='media-image attr__typeof__foaf:Image img__fid__554 img__view_mode__media_large attr__format__media_large' height='240' src='/files/styles/large/public/olsrviz6.png?itok=RtTLCP_Y' typeof='foaf:Image' width='480' /> <i>Image 2: Network visualized with ETX values at point [6] (the last digits of the IP address correspond to the numbers in the map). </i> <img alt='' class='media-image attr__typeof__foaf:Image img__fid__555 img__view_mode__media_large attr__format__media_large' height='216' src='/files/styles/large/public/olsrviz7.png?itok=oxbB0fsK' typeof='foaf:Image' width='480' /> <i>Image 3: Network visualized with ETX values at point [7] (the last digits of the IP address correspond to the numbers in the map).</i> In this field trial, we did not have an available Internet gateway, but instead, used <a href='https://github.com/danstaples/MediaGrid'>MediaGrid</a> to facilitate local secure communications across the mesh network. During this exercise, we had MediaGrid running on a single laptop in the network. However, MediaGrid has the ability to sync across multiple laptops, which increases the resilience of the network. MediaGrid has a chat feature that allowed the deployment team to discuss changes to the network node position and report link quality and signal strength over the local area network.</p>
<table border='0' cellpadding='0' cellspacing='0' style='width: 338px;' width='338px'>
	<tbody>
		<tr>
			<td width='169px'><i><img alt='' class='media-image attr__typeof__foaf:Image img__fid__556 img__view_mode__media_large attr__format__media_large' src='/files/styles/large/public/mediagrid1.png?itok=XYdP47ke' style='width: 169px; height: 300px;' typeof='foaf:Image' /></i></td>
			<td width='169px'><i><img alt='' class='media-image attr__typeof__foaf:Image img__fid__558 img__view_mode__media_large attr__format__media_large' src='/files/styles/large/public/mediagrid2_0.png?itok=-5kIuikp' style='width: 169px; height: 300px;' typeof='foaf:Image' /></i></td>
		</tr>
	</tbody>
</table>
<p> <i>Image 4: Screenshots of the MediaGrid mobile web interface.</i> While we ran a local application on the network for these experiments, the network could also be connected to a 3G modem, an Internet gateway inside of a building, or a long distance link to another part of the city. The field experiments resulted in the following conclusions:</p>
<ul>
	<li>Because the network can be highly dynamic, people must adequately plan and constantly coordinate to both maintain solid network links and provide adequate coverage by remaining spaced apart. This is easier when some nodes are relatively stationary.</li>
	<li>The network was most resilient when there were multiple redundant links. Although links could stretch several blocks, it was often ideal to place nodes on opposite sides of the street but only one block apart and create redundancy in the network.</li>
	<li>Adding height to the ground-level nodes improved performance by reducing the number of wireless barriers (for example, people standing between the nodes). Going up half a flight of stairs improved network quality between those links.</li>
	<li>Coordinating across a large geography is difficult, making pre-planning important. Especially for purposes of field experiments, everyone should have all positions mapped, everyone’s IP address and a method of communication.</li>
</ul>
<p> The Commotion project is currently working on the <a href='https://commotionwireless.net/docs/cck'>Commotion Construction Kit,</a> a set of tools that the Open Technology Institute has used in trainings around the world and at home. It is a “do it ourselves” guide to building wireless mesh networks. They are a work in progress, so check back frequently for updates. We welcome feedback and experimentation! These field experiments were conducted using <a href='https://commotionwireless.net/download/routers'>Commotion Developer Release 2</a>, and the network was configured to use WPA2-PSK to encrypt the traffic.</p>
 <h4>Tags:</h4>

 <a href="/blog/blogindex.html#pop-up mesh">pop-up mesh</a>&nbsp;

 <a href="/blog/blogindex.html#urban">urban</a>&nbsp;


    </div>

<div class="right-third">



    
    
    
    

    
    <h3><a href="/blog/blogindex.html#2014">2014</a></h3>
    <a href="/blog/blogindex.html#2014-01">01</a> 
    

    
        
    
        
    

    
    
    
    

    

    
    
    <h3><a href="/blog/blogindex.html#2013">2013</a></h3>
    <a href="/blog/blogindex.html#2013-12">12</a>
    
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
        
    
    | <a href="/blog/blogindex.html#2013-10">10</a>
            
        
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
        
    
    | <a href="/blog/blogindex.html#2013-09">09</a>
            
        
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
        
    
    | <a href="/blog/blogindex.html#2013-07">07</a>
            
        
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
        
    
    | <a href="/blog/blogindex.html#2013-06">06</a>
            
        
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
        
    
    | <a href="/blog/blogindex.html#2013-03">03</a>
            
        
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
        
    
    | <a href="/blog/blogindex.html#2013-02">02</a>
            
        
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
    
    <h3><a href="/blog/blogindex.html#2012">2012</a></h3>
    <a href="/blog/blogindex.html#2012-11">11</a>
    
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
        
    
    | <a href="/blog/blogindex.html#2012-10">10</a>
            
        
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
        
    
    | <a href="/blog/blogindex.html#2012-09">09</a>
            
        
    

    
    
    
    

    

    
        
    
    | <a href="/blog/blogindex.html#2012-08">08</a>
            
        
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
        
    
    | <a href="/blog/blogindex.html#2012-05">05</a>
            
        
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
        
    
        
    

    
    
    
    

    

    
    


<h3>Tags:</h3>

 <a href="/blog/blogindex.html#ui">ui</a> (4)<br />

 <a href="/blog/blogindex.html#branding">branding</a> (2)<br />

 <a href="/blog/blogindex.html#identity">identity</a> (1)<br />

 <a href="/blog/blogindex.html#research">research</a> (7)<br />

 <a href="/blog/blogindex.html#detroit">detroit</a> (6)<br />

 <a href="/blog/blogindex.html#community wireless">community wireless</a> (9)<br />

 <a href="/blog/blogindex.html#recommendations">recommendations</a> (3)<br />

 <a href="/blog/blogindex.html#ux">ux</a> (3)<br />

 <a href="/blog/blogindex.html#messaging">messaging</a> (5)<br />

 <a href="/blog/blogindex.html#drupal">drupal</a> (1)<br />

 <a href="/blog/blogindex.html#chat">chat</a> (4)<br />

 <a href="/blog/blogindex.html#applications">applications</a> (5)<br />

 <a href="/blog/blogindex.html#routers">routers</a> (3)<br />

 <a href="/blog/blogindex.html#energy">energy</a> (1)<br />

 <a href="/blog/blogindex.html#mesh">mesh</a> (9)<br />

 <a href="/blog/blogindex.html#cost">cost</a> (2)<br />

 <a href="/blog/blogindex.html#price">price</a> (1)<br />

 <a href="/blog/blogindex.html#hardware">hardware</a> (3)<br />

 <a href="/blog/blogindex.html#red hook">red hook</a> (5)<br />

 <a href="/blog/blogindex.html#troubleshooting">troubleshooting</a> (2)<br />

 <a href="/blog/blogindex.html#site visits">site visits</a> (4)<br />

 <a href="/blog/blogindex.html#maintenance">maintenance</a> (2)<br />

 <a href="/blog/blogindex.html#warning">warning</a> (2)<br />

 <a href="/blog/blogindex.html#label">label</a> (2)<br />

 <a href="/blog/blogindex.html#security">security</a> (2)<br />

 <a href="/blog/blogindex.html#anonymity">anonymity</a> (2)<br />

 <a href="/blog/blogindex.html#privacy">privacy</a> (2)<br />

 <a href="/blog/blogindex.html#battlemesh">battlemesh</a> (1)<br />

 <a href="/blog/blogindex.html#olsr">olsr</a> (1)<br />

 <a href="/blog/blogindex.html#testing">testing</a> (1)<br />

 <a href="/blog/blogindex.html#digital stewards">digital stewards</a> (4)<br />

 <a href="/blog/blogindex.html#amp">amp</a> (1)<br />

 <a href="/blog/blogindex.html#amc">amc</a> (1)<br />

 <a href="/blog/blogindex.html#release">release</a> (3)<br />

 <a href="/blog/blogindex.html#serval">serval</a> (1)<br />

 <a href="/blog/blogindex.html#gource">gource</a> (1)<br />

 <a href="/blog/blogindex.html#git">git</a> (1)<br />

 <a href="/blog/blogindex.html#visualization">visualization</a> (2)<br />

 <a href="/blog/blogindex.html#development">development</a> (1)<br />

 <a href="/blog/blogindex.html#guest post">guest post</a> (1)<br />

 <a href="/blog/blogindex.html#tools">tools</a> (1)<br />

 <a href="/blog/blogindex.html#cck">cck</a> (1)<br />

 <a href="/blog/blogindex.html#pop-up mesh">pop-up mesh</a> (1)<br />

 <a href="/blog/blogindex.html#urban">urban</a> (1)<br />

 <a href="/blog/blogindex.html#somaliland">somaliland</a> (1)<br />

 <a href="/blog/blogindex.html#rural">rural</a> (1)<br />

 <a href="/blog/blogindex.html#r1">r1</a> (1)<br />

 <a href="/blog/blogindex.html#upgrade">upgrade</a> (1)<br />

 <a href="/blog/blogindex.html#hack day">hack day</a> (1)<br />


</div>

  </div>
</div>
 
    </div>
  </div>
</div>
<div class="footer-wrapper">
  <div class="container">
  	<ul class="menu"><li class="first leaf menu-mlid-2043"><a href="/contact" title="">Contact</a></li>
	<li class=""><a href="/jobs" title="">Jobs</a></li>
	<li class=""><a href="http://oti.newamerica.net/" title="">OTI</a></li>
	<li class=""><a href="/about/press" title="">Press</a></li>
	<li class="last leaf menu-mlid-2048"><a href="/about/license-privacy" title="">License &amp; Privacy</a></li>
	</ul>
  </div>
</div>

<script src="/js/jquery-2.1.0.min.js"></script>
<script src="/js/bootstrap.js"></script>
<script src="/js/commotion.js"></script>
<!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["trackPageView"]);
  _paq.push(["enableLinkTracking"]);

  (function() {
    var u=(("https:" == document.location.protocol) ? "https" : "http") + "://piwik.opentechinstitute.org/";
    _paq.push(["setTrackerUrl", u+"piwik.php"]);
    _paq.push(["setSiteId", "1"]);
    var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
    g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Piwik Code -->

  </body> 
</html>

