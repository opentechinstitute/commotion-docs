---
layout: doxygen
title: API Reference - commotiond
site_section: developers
categories: 
created: 2014-06-06 13:22:04.584366
changed: 2014-06-06 13:22:04.584366
post_author: Commotion
lang: en
---
<div id="doxygen">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part --> 
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">util.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>utility functions for the Commotion daemon  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="util_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af3ee80d1bd2745bd7fed4a9b59067ff1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af3ee80d1bd2745bd7fed4a9b59067ff1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NEW</b>(O, T)&#160;&#160;&#160;O##_create(sizeof(T##_t), T##_proto)</td></tr>
<tr class="separator:af3ee80d1bd2745bd7fed4a9b59067ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af07df0e5b812c3055ffcc5ee7a7d65fb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af07df0e5b812c3055ffcc5ee7a7d65fb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_</b>(N)&#160;&#160;&#160;proto.N</td></tr>
<tr class="separator:af07df0e5b812c3055ffcc5ee7a7d65fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba72aa079b3f6d2a09f075693b6140ce"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba72aa079b3f6d2a09f075693b6140ce"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOWERCASE</b>(N)&#160;&#160;&#160;for ( ; *N; ++N) *N = tolower(*N);</td></tr>
<tr class="separator:aba72aa079b3f6d2a09f075693b6140ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17924addcdece8b86316e2543acc5a11"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a17924addcdece8b86316e2543acc5a11"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>UPPERCASE</b>(N)&#160;&#160;&#160;for ( ; *N; ++N) *N = toupper(*N);</td></tr>
<tr class="separator:a17924addcdece8b86316e2543acc5a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b7451465deac204c5f7cb1f9c6e1fc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a29b7451465deac204c5f7cb1f9c6e1fc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_ARGS</b>&#160;&#160;&#160;16</td></tr>
<tr class="separator:a29b7451465deac204c5f7cb1f9c6e1fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07b8ba937fd75a40931657a93d64926b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a07b8ba937fd75a40931657a93d64926b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BSSID_SIZE</b>&#160;&#160;&#160;6</td></tr>
<tr class="separator:a07b8ba937fd75a40931657a93d64926b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab098c38641727ba2aebc3621c6b9401c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab098c38641727ba2aebc3621c6b9401c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BSSID_STR_SIZE</b>&#160;&#160;&#160;18</td></tr>
<tr class="separator:ab098c38641727ba2aebc3621c6b9401c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b8e23da3811868feb2eb899f267d622"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3b8e23da3811868feb2eb899f267d622"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ESSID_SIZE</b>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a3b8e23da3811868feb2eb899f267d622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5745e8a075423456b2ee9bbe723bc5f6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5745e8a075423456b2ee9bbe723bc5f6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FREQ_SIZE</b>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a5745e8a075423456b2ee9bbe723bc5f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7ef411847b693e526afebd2891a96e5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab7ef411847b693e526afebd2891a96e5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHAN_SIZE</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:ab7ef411847b693e526afebd2891a96e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aa7ded4861e1d9f143ff7895190e1920f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa7ded4861e1d9f143ff7895190e1920f"></a>
typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><b>file_iter</b> )(const char *path, const char *filename)</td></tr>
<tr class="separator:aa7ded4861e1d9f143ff7895190e1920f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a961e5ee0f4941f07c0c5333e6cdd0fbd"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8h.html#a961e5ee0f4941f07c0c5333e6cdd0fbd">strlcat</a> (char *dst, const char *src, const size_t size)</td></tr>
<tr class="memdesc:a961e5ee0f4941f07c0c5333e6cdd0fbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">concatenates two strings  <a href="#a961e5ee0f4941f07c0c5333e6cdd0fbd">More...</a><br /></td></tr>
<tr class="separator:a961e5ee0f4941f07c0c5333e6cdd0fbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8618012c7dd73f31b3ae67d737f5d81"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8h.html#ad8618012c7dd73f31b3ae67d737f5d81">strlcpy</a> (char *dest, const char *src, const size_t size)</td></tr>
<tr class="memdesc:ad8618012c7dd73f31b3ae67d737f5d81"><td class="mdescLeft">&#160;</td><td class="mdescRight">copies a string  <a href="#ad8618012c7dd73f31b3ae67d737f5d81">More...</a><br /></td></tr>
<tr class="separator:ad8618012c7dd73f31b3ae67d737f5d81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef41c1bda0e4c01b392a6d53c8e1b250"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8h.html#aef41c1bda0e4c01b392a6d53c8e1b250">snprintfcat</a> (char *str, size_t size, const char *format,...)</td></tr>
<tr class="memdesc:aef41c1bda0e4c01b392a6d53c8e1b250"><td class="mdescLeft">&#160;</td><td class="mdescRight">prints output from string "str" in a specified format  <a href="#aef41c1bda0e4c01b392a6d53c8e1b250">More...</a><br /></td></tr>
<tr class="separator:aef41c1bda0e4c01b392a6d53c8e1b250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a796d323883be8a12fb532650c33dd9e9"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8h.html#a796d323883be8a12fb532650c33dd9e9">strstrip</a> (const char *s, char *out, const size_t outlen)</td></tr>
<tr class="memdesc:a796d323883be8a12fb532650c33dd9e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">removes white space from a given string (to parse for arguments)  <a href="#a796d323883be8a12fb532650c33dd9e9">More...</a><br /></td></tr>
<tr class="separator:a796d323883be8a12fb532650c33dd9e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2bdad1d2d047c4d139f58d1e36d7e3a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8h.html#aa2bdad1d2d047c4d139f58d1e36d7e3a">compare_version</a> (const char *aver, const char *bver)</td></tr>
<tr class="memdesc:aa2bdad1d2d047c4d139f58d1e36d7e3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">compares version numbers of two software releases  <a href="#aa2bdad1d2d047c4d139f58d1e36d7e3a">More...</a><br /></td></tr>
<tr class="separator:aa2bdad1d2d047c4d139f58d1e36d7e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f3fbaf6ce8bc88138b3879ac4d7e696"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8h.html#a7f3fbaf6ce8bc88138b3879ac4d7e696">process_files</a> (const char *dir_path, file_iter loader)</td></tr>
<tr class="memdesc:a7f3fbaf6ce8bc88138b3879ac4d7e696"><td class="mdescLeft">&#160;</td><td class="mdescRight">processes file paths  <a href="#a7f3fbaf6ce8bc88138b3879ac4d7e696">More...</a><br /></td></tr>
<tr class="separator:a7f3fbaf6ce8bc88138b3879ac4d7e696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe2803bf574168dbb00c7d925e19311f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8h.html#abe2803bf574168dbb00c7d925e19311f">string_to_argv</a> (const char *input, char **argv, int *argc, const size_t max)</td></tr>
<tr class="memdesc:abe2803bf574168dbb00c7d925e19311f"><td class="mdescLeft">&#160;</td><td class="mdescRight">parses a string and converts into a set of arguments  <a href="#abe2803bf574168dbb00c7d925e19311f">More...</a><br /></td></tr>
<tr class="separator:abe2803bf574168dbb00c7d925e19311f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91964df8965bca2fedef46aa8b9701f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8h.html#ac91964df8965bca2fedef46aa8b9701f">argv_to_string</a> (char **argv, const int argc, char *output, const size_t max)</td></tr>
<tr class="memdesc:ac91964df8965bca2fedef46aa8b9701f"><td class="mdescLeft">&#160;</td><td class="mdescRight">converts argument vectors to a single string  <a href="#ac91964df8965bca2fedef46aa8b9701f">More...</a><br /></td></tr>
<tr class="separator:ac91964df8965bca2fedef46aa8b9701f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59daebdf6fd62b5f3278203eaac0a1ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8h.html#a59daebdf6fd62b5f3278203eaac0a1ed">mac_string_to_bytes</a> (char *macstr, unsigned char mac[6])</td></tr>
<tr class="memdesc:a59daebdf6fd62b5f3278203eaac0a1ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">converts a MAC address from a string to individual bytes  <a href="#a59daebdf6fd62b5f3278203eaac0a1ed">More...</a><br /></td></tr>
<tr class="separator:a59daebdf6fd62b5f3278203eaac0a1ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a672118d9eaf9812381995b78b4928841"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8h.html#a672118d9eaf9812381995b78b4928841">print_mac</a> (unsigned char mac[6])</td></tr>
<tr class="memdesc:a672118d9eaf9812381995b78b4928841"><td class="mdescLeft">&#160;</td><td class="mdescRight">prints MAC address from MAC array  <a href="#a672118d9eaf9812381995b78b4928841">More...</a><br /></td></tr>
<tr class="separator:a672118d9eaf9812381995b78b4928841"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b69bf84ea5b9f5a14f8143819cd0520"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8h.html#a9b69bf84ea5b9f5a14f8143819cd0520">wifi_freq</a> (const int channel)</td></tr>
<tr class="memdesc:a9b69bf84ea5b9f5a14f8143819cd0520"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets Wi-Fi frequency corresponding to specified channel  <a href="#a9b69bf84ea5b9f5a14f8143819cd0520">More...</a><br /></td></tr>
<tr class="separator:a9b69bf84ea5b9f5a14f8143819cd0520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9f1168eab6ce8233c2d0b78376f5724"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8h.html#ab9f1168eab6ce8233c2d0b78376f5724">wifi_chan</a> (const int frequency)</td></tr>
<tr class="memdesc:ab9f1168eab6ce8233c2d0b78376f5724"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets Wi-Fi channel corresponding to specified freuency  <a href="#ab9f1168eab6ce8233c2d0b78376f5724">More...</a><br /></td></tr>
<tr class="separator:ab9f1168eab6ce8233c2d0b78376f5724"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a188ea8c443d6fc902e3f2cb8161b00f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8h.html#a188ea8c443d6fc902e3f2cb8161b00f2">get_bssid</a> (const char *essid, const unsigned int channel, char *bssid)</td></tr>
<tr class="memdesc:a188ea8c443d6fc902e3f2cb8161b00f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">generates a BSSID from hash of ESSID and channel  <a href="#a188ea8c443d6fc902e3f2cb8161b00f2">More...</a><br /></td></tr>
<tr class="separator:a188ea8c443d6fc902e3f2cb8161b00f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04b9be5761870c98157effa97032dfc1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8h.html#a04b9be5761870c98157effa97032dfc1">hexdump</a> (void *mem, unsigned int len)</td></tr>
<tr class="memdesc:a04b9be5761870c98157effa97032dfc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">prints a raw byte array in hex and ascii output  <a href="#a04b9be5761870c98157effa97032dfc1">More...</a><br /></td></tr>
<tr class="separator:a04b9be5761870c98157effa97032dfc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>utility functions for the Commotion daemon </p>
<dl class="section author"><dt>Author</dt><dd>Josh King (jheretic), <a href="#" onclick="location.href='mai'+'lto:'+'jki'+'ng'+'@ch'+'am'+'ban'+'a.'+'net'; return false;">jking<span style="display: none;">.nosp@m.</span>@cha<span style="display: none;">.nosp@m.</span>mbana<span style="display: none;">.nosp@m.</span>.net</a> </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ac91964df8965bca2fedef46aa8b9701f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int argv_to_string </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>converts argument vectors to a single string </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argv</td><td>pointer to argument list </td></tr>
    <tr><td class="paramname">argc</td><td>number of arguments </td></tr>
    <tr><td class="paramname">output</td><td>concatenated string of arguments </td></tr>
    <tr><td class="paramname">max</td><td>maximum length of the string </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="util_8c.html#a961e5ee0f4941f07c0c5333e6cdd0fbd">strlcat()</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                                                                {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordflow">for</span>(i = 0; i &lt; argc; i++) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="util_8c.html#a961e5ee0f4941f07c0c5333e6cdd0fbd">strlcat</a>(output, argv[i], max);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <a class="code" href="util_8c.html#a961e5ee0f4941f07c0c5333e6cdd0fbd">strlcat</a>(output, <span class="stringliteral">&quot; &quot;</span>, max);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordflow">if</span>(i &lt; argc) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    ERROR(<span class="stringliteral">&quot;Failed to concatenate all of argv.&quot;</span>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  } </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">return</span> 1; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
<div class="ttc" id="util_8c_html_a961e5ee0f4941f07c0c5333e6cdd0fbd"><div class="ttname"><a href="util_8c.html#a961e5ee0f4941f07c0c5333e6cdd0fbd">strlcat</a></div><div class="ttdeci">size_t strlcat(char *dst, const char *src, const size_t size)</div><div class="ttdoc">concatenates two strings </div><div class="ttdef"><b>Definition:</b> util.c:60</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa2bdad1d2d047c4d139f58d1e36d7e3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int compare_version </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>aver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>bver</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>compares version numbers of two software releases </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aver</td><td>version number for software 'a' </td></tr>
    <tr><td class="paramname">bver</td><td>version number for software 'b' </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                                                        {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordtype">char</span> *a, *b, *anext, *bnext;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordtype">long</span> <span class="keywordtype">int</span> avalue, bvalue;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="comment">// Grab pointer to first number in each version string.</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  a = strpbrk(aver, <span class="stringliteral">&quot;0123456789&quot;</span>);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  b = strpbrk(bver, <span class="stringliteral">&quot;0123456789&quot;</span>);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordflow">while</span>(a &amp;&amp; b) {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">// Convert characters to number.</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    avalue = strtol(a, &amp;anext, 10);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    bvalue = strtol(b, &amp;bnext, 10);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">if</span>(avalue &lt; bvalue) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">if</span>(avalue &gt; bvalue) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    a = strpbrk(anext, <span class="stringliteral">&quot;0123456789&quot;</span>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    b = strpbrk(bnext, <span class="stringliteral">&quot;0123456789&quot;</span>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="comment">// If valid characters remain in 1 string, assume a point release.</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">if</span>(b) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordflow">if</span>(a) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">// Versions are identical.</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a188ea8c443d6fc902e3f2cb8161b00f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_bssid </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>essid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>bssid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>generates a BSSID from hash of ESSID and channel </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">essid</td><td>The ESSID to hash </td></tr>
    <tr><td class="paramname">channel</td><td>an integer of the channel </td></tr>
    <tr><td class="paramname">bbsid</td><td>The returned 6-byte BSSID </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                                                                        {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  DEBUG(<span class="stringliteral">&quot;ESSID: %s, Channel: %d&quot;</span>, essid, chan);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> hash[BSSID_SIZE];</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  memset(hash, <span class="charliteral">&#39;\0&#39;</span>, <span class="keyword">sizeof</span>(hash));</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordtype">char</span> channel[CHAN_SIZE];</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  memset(channel, <span class="charliteral">&#39;\0&#39;</span>, <span class="keyword">sizeof</span>(channel));</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <a class="code" href="structMD5__CTX.html">MD5_CTX</a> ctx;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  MD5_Init(&amp;ctx);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  MD5_Update(&amp;ctx, essid, strlen(essid));</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  MD5_Final(hash, &amp;ctx);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  DEBUG(<span class="stringliteral">&quot;Hash: %s&quot;</span>, (<span class="keywordtype">char</span> *)hash);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keywordflow">for</span>(i = 0; i &lt; BSSID_SIZE - CHAN_SIZE; i++)</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    bssid[i] = hash[i];</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    DEBUG(<span class="stringliteral">&quot;BSSID byte %d as char: %c, as int: %d&quot;</span>, i, bssid[i], bssid[i]);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">   * Set the first byte to 0x02 (the value of</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">   * a link-local ethernet address) which is</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">   * required for a valid bssid.</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  bssid[0] = 0x02;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  bssid[i] = chan / 10;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  bssid[i + 1] = chan % 10;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  DEBUG(<span class="stringliteral">&quot;BSSID buffer: %s&quot;</span>, (<span class="keywordtype">char</span> *)bssid);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div>
<div class="ttc" id="structMD5__CTX_html"><div class="ttname"><a href="structMD5__CTX.html">MD5_CTX</a></div><div class="ttdef"><b>Definition:</b> md5.h:34</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a04b9be5761870c98157effa97032dfc1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hexdump </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>prints a raw byte array in hex and ascii output </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mem</td><td>the byte array to print </td></tr>
    <tr><td class="paramname">len</td><td>length of the byte array </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="util_8c.html#acf2c5fe0549ea905f765ac31e9718403">HEXDUMP_COLS</a>.</p>
<div class="fragment"><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;{</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, j;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="keywordflow">for</span>(i = 0; i &lt; len + ((len % <a class="code" href="util_8c.html#acf2c5fe0549ea905f765ac31e9718403">HEXDUMP_COLS</a>) ? (<a class="code" href="util_8c.html#acf2c5fe0549ea905f765ac31e9718403">HEXDUMP_COLS</a> - len % <a class="code" href="util_8c.html#acf2c5fe0549ea905f765ac31e9718403">HEXDUMP_COLS</a>) : 0); i++)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">/* print offset */</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">if</span>(i % HEXDUMP_COLS == 0)</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      printf(<span class="stringliteral">&quot;0x%06x: &quot;</span>, i);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="comment">/* print hex data */</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">if</span>(i &lt; len)</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      printf(<span class="stringliteral">&quot;%02x &quot;</span>, 0xFF &amp; ((<span class="keywordtype">char</span>*)mem)[i]);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">else</span> <span class="comment">/* end of block, just aligning for ASCII dump */</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      printf(<span class="stringliteral">&quot;   &quot;</span>);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">/* print ASCII dump */</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">if</span>(i % HEXDUMP_COLS == (HEXDUMP_COLS - 1))</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="keywordflow">for</span>(j = i - (HEXDUMP_COLS - 1); j &lt;= i; j++)</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">if</span>(j &gt;= len) <span class="comment">/* end of block, not really printing */</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    putchar(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(isprint(((<span class="keywordtype">char</span>*)mem)[j])) <span class="comment">/* printable char */</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    putchar(0xFF &amp; ((<span class="keywordtype">char</span>*)mem)[j]);        </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="keywordflow">else</span> <span class="comment">/* other char */</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    putchar(<span class="charliteral">&#39;.&#39;</span>);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      putchar(<span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;}</div>
<div class="ttc" id="util_8c_html_acf2c5fe0549ea905f765ac31e9718403"><div class="ttname"><a href="util_8c.html#acf2c5fe0549ea905f765ac31e9718403">HEXDUMP_COLS</a></div><div class="ttdeci">#define HEXDUMP_COLS</div><div class="ttdef"><b>Definition:</b> util.c:370</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a59daebdf6fd62b5f3278203eaac0a1ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mac_string_to_bytes </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>macstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>mac</em>[6]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>converts a MAC address from a string to individual bytes </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">macstr</td><td>MAC string </td></tr>
    <tr><td class="paramname">mac</td><td>an array for storing the MAC address </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                                                             {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  memset(mac, <span class="charliteral">&#39;\0&#39;</span>, 6);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  sscanf(macstr, <span class="stringliteral">&quot;%hhx:%hhx:%hhx:%hhx:%hhx:%hhx&quot;</span>, &amp;mac[0], &amp;mac[1], &amp;mac[2], &amp;mac[3], &amp;mac[4], &amp;mac[5]);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a672118d9eaf9812381995b78b4928841"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_mac </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>mac</em>[6]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>prints MAC address from MAC array </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mac</td><td>array storing MAC address </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                                     {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  printf(<span class="stringliteral">&quot;%02x:%02x:%02x:%02x:%02x:%02x&quot;</span>, mac[0] &amp; 0xff, mac[1] &amp; 0xff, mac[2] &amp; 0xff, mac[3] &amp; 0xff, mac[4] &amp; 0xff, mac[5] &amp; 0xff);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7f3fbaf6ce8bc88138b3879ac4d7e696"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int process_files </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dir_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">file_iter&#160;</td>
          <td class="paramname"><em>loader</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>processes file paths </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir_path</td><td>string of the directory path </td></tr>
    <tr><td class="paramname">loader</td><td>number of directories in the file path </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="plugin_8h.html#a61e497614e5af8d009a76709c91b34d8">co_plugins_load()</a>, and <a class="el" href="profile_8h.html#a819e5be526d66f9bb51eae1edb746464">co_profile_import_files()</a>.</p>
<div class="fragment"><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                                                          {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordtype">size_t</span> path_size = strlen(dir_path);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  CHECK((path_size &gt; 0) &amp;&amp; (path_size &lt;= PATH_MAX), <span class="stringliteral">&quot;Invalid path length!&quot;</span>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  DIR *dir_iter = NULL;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  CHECK((dir_iter = opendir(dir_path)), <span class="stringliteral">&quot;Could not read directory!&quot;</span>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keyword">struct </span>dirent *dir_entry = NULL;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  DEBUG(<span class="stringliteral">&quot;Processing files in directory %s&quot;</span>, dir_path);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordflow">while</span>((dir_entry = readdir(dir_iter)) != NULL) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    DEBUG(<span class="stringliteral">&quot;Checking file %s&quot;</span>, dir_entry-&gt;d_name);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">if</span>(!strcmp(dir_entry-&gt;d_name, <span class="stringliteral">&quot;.&quot;</span>)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span>(!strcmp(dir_entry-&gt;d_name, <span class="stringliteral">&quot;..&quot;</span>)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">if</span>(!(*loader)(dir_path, dir_entry-&gt;d_name)) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">if</span>(dir_iter) closedir(dir_iter);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;error:</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aef41c1bda0e4c01b392a6d53c8e1b250"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t snprintfcat </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>prints output from string "str" in a specified format </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>string to be printed </td></tr>
    <tr><td class="paramname">size</td><td>size of string </td></tr>
    <tr><td class="paramname">format</td><td>output format </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                                                                    {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordtype">size_t</span> result;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  va_list args;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordtype">size_t</span> len = strnlen(str, size);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  va_start(args, format);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  result = vsnprintf(str + len, size - len, format, args);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  va_end(args);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordflow">return</span> result + len;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abe2803bf574168dbb00c7d925e19311f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int string_to_argv </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>parses a string and converts into a set of arguments </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>the string to be parsed </td></tr>
    <tr><td class="paramname">argv</td><td>pointer to argument list </td></tr>
    <tr><td class="paramname">argc</td><td>number of arguments read from the string </td></tr>
    <tr><td class="paramname">max</td><td>maximum length of string </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                                                                                {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordtype">char</span> *saveptr = NULL;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordtype">char</span> *token = NULL;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordtype">char</span> *input_tmp = strdup(input);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  CHECK_MEM(token = strtok_r(input_tmp, <span class="stringliteral">&quot; &quot;</span>, &amp;saveptr));</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordflow">while</span>(token &amp;&amp; count &lt; max) {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    argv[count++] = token;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    token = strtok_r(NULL, <span class="stringliteral">&quot; &quot;</span>, &amp;saveptr);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  *argc = count;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordflow">return</span> 1; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;error:</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  free(input_tmp);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a961e5ee0f4941f07c0c5333e6cdd0fbd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t strlcat </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>concatenates two strings </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dst</td><td>destination for new string </td></tr>
    <tr><td class="paramname">src</td><td>string to be added to </td></tr>
    <tr><td class="paramname">size</td><td>size of combined strings </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="util_8h.html#ac91964df8965bca2fedef46aa8b9701f">argv_to_string()</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordtype">size_t</span> used, length, copy;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  used = strlen(dst);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  length = strlen(src);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">if</span> (size &gt; 0 &amp;&amp; used &lt; size - 1) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    copy = (length &gt;= size - used) ? size - used - 1 : length;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    memcpy(dst + used, src, copy);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    dst[used + copy] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordflow">return</span> used + length;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad8618012c7dd73f31b3ae67d737f5d81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t strlcpy </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>copies a string </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dst</td><td>destination for new string </td></tr>
    <tr><td class="paramname">src</td><td>string to be copied </td></tr>
    <tr><td class="paramname">size</td><td>size of string </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="iface_8h.html#a2213dff7e124db476c4e10d75c657cc1">co_iface_add()</a>, and <a class="el" href="util_8h.html#a796d323883be8a12fb532650c33dd9e9">strstrip()</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;{</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> length = strlen(src);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordflow">if</span> (size != 0) {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    memmove(dest, src, (length &gt; size - 1) ? size - 1 : length);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    dest[size - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  }</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordflow">return</span> length;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a796d323883be8a12fb532650c33dd9e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t strstrip </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>outlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>removes white space from a given string (to parse for arguments) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>string to parse </td></tr>
    <tr><td class="paramname">out</td><td>output from the string (with white space removed) </td></tr>
    <tr><td class="paramname">outlen</td><td>length of the output </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="util_8c.html#ad8618012c7dd73f31b3ae67d737f5d81">strlcpy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                                                         {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordtype">size_t</span> len = strlen(s);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *ptr = s;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">if</span>(len == 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">while</span>(*ptr &amp;&amp; isspace(*ptr)) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    ++ptr; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    --len;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">if</span>(len &lt;= outlen) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="util_8c.html#ad8618012c7dd73f31b3ae67d737f5d81">strlcpy</a>(out, ptr, len + 1);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">return</span> len;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div>
<div class="ttc" id="util_8c_html_ad8618012c7dd73f31b3ae67d737f5d81"><div class="ttname"><a href="util_8c.html#ad8618012c7dd73f31b3ae67d737f5d81">strlcpy</a></div><div class="ttdeci">size_t strlcpy(char *dest, const char *src, const size_t size)</div><div class="ttdoc">copies a string </div><div class="ttdef"><b>Definition:</b> util.c:50</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab9f1168eab6ce8233c2d0b78376f5724"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wifi_chan </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>frequency</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sets Wi-Fi channel corresponding to specified freuency </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency</td><td>specified frequency </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                                   {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordflow">if</span>(frequency &lt; 5080) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">return</span> (frequency - 5000)/5;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">switch</span>(frequency) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">case</span> 2412:</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">case</span> 2417:</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">case</span> 2422:</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="keywordflow">return</span> 3;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">case</span> 2427:</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <span class="keywordflow">return</span> 4;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">case</span> 2432:</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <span class="keywordflow">return</span> 5;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">case</span> 2437:</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="keywordflow">return</span> 6;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">case</span> 2442:</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      <span class="keywordflow">return</span> 7;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">case</span> 2447:</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <span class="keywordflow">return</span> 8;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">case</span> 2452:</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      <span class="keywordflow">return</span> 9;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">case</span> 2457:</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="keywordflow">return</span> 10;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">case</span> 2462:</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      <span class="keywordflow">return</span> 11;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">case</span> 2467:</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="keywordflow">return</span> 12;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">case</span> 2472:</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="keywordflow">return</span> 13;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">case</span> 2484:</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordflow">return</span> 14;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      ERROR(<span class="stringliteral">&quot;Not a valid frequency!&quot;</span>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9b69bf84ea5b9f5a14f8143819cd0520"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wifi_freq </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sets Wi-Fi frequency corresponding to specified channel </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>specified channel </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                                 {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordflow">if</span>(channel &gt; 14) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">return</span> 5000 + 5*channel;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">switch</span>(channel) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <span class="keywordflow">return</span> 2412;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="keywordflow">return</span> 2417;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="keywordflow">return</span> 2422;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <span class="keywordflow">return</span> 2427;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">case</span> 5:</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <span class="keywordflow">return</span> 2432;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">case</span> 6:</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <span class="keywordflow">return</span> 2437;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">case</span> 7:</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <span class="keywordflow">return</span> 2442;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <span class="keywordflow">return</span> 2447;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">case</span> 9:</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <span class="keywordflow">return</span> 2452;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">case</span> 10:</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="keywordflow">return</span> 2457;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">case</span> 11:</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <span class="keywordflow">return</span> 2462;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">case</span> 12:</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <span class="keywordflow">return</span> 2467;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">case</span> 13:</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <span class="keywordflow">return</span> 2472;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">case</span> 14:</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="keywordflow">return</span> 2484;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      ERROR(<span class="stringliteral">&quot;Not a valid channel!&quot;</span>);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->

<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 6 2014 13:22:06 for commotiond by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
<script type="text/javascript" src="dynsections.js"></script>
</div>
