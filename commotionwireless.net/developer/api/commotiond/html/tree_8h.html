---
layout: default
title: API Reference - commotiond
site_section: developers
categories: 
created: 2014-06-06 13:22:04.584366
changed: 2014-06-06 13:22:04.584366
post_author: Commotion
lang: en
---
<div id="doxygen">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part --> 
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">tree.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>String-indexed search tree for Commotion object system.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="debug_8h_source.html">debug.h</a>&quot;</code><br />
<code>#include &quot;extern/halloc.h&quot;</code><br />
</div>
<p><a href="tree_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__treenode__t.html">_treenode_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a78c42d83e66bd93450099b27221d9d28"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>_DECLARE_TREE</b>(L)</td></tr>
<tr class="separator:a78c42d83e66bd93450099b27221d9d28"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:afcdad391890650a29103f10b43ee7fe2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afcdad391890650a29103f10b43ee7fe2"></a>
typedef struct <a class="el" href="struct__treenode__t.html">_treenode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>_treenode_t</b></td></tr>
<tr class="separator:afcdad391890650a29103f10b43ee7fe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae3f9c03dcdb1a5e121ba490951a65466"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae3f9c03dcdb1a5e121ba490951a65466"></a>
struct <a class="el" href="struct__treenode__t.html">_treenode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>__attribute__</b> ((packed))</td></tr>
<tr class="separator:ae3f9c03dcdb1a5e121ba490951a65466"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabbd92a5880e8e1e0823250aad051e75"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aabbd92a5880e8e1e0823250aad051e75"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_DECLARE_TREE</b> (16)</td></tr>
<tr class="separator:aabbd92a5880e8e1e0823250aad051e75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af69794c19158396aec6f852d75b6b61f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af69794c19158396aec6f852d75b6b61f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_DECLARE_TREE</b> (32)</td></tr>
<tr class="separator:af69794c19158396aec6f852d75b6b61f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae96bd7e7dec0cc1aecdb8a8ef0b32986"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#ae96bd7e7dec0cc1aecdb8a8ef0b32986">co_node_key</a> (<a class="el" href="struct__treenode__t.html">_treenode_t</a> *node)</td></tr>
<tr class="memdesc:ae96bd7e7dec0cc1aecdb8a8ef0b32986"><td class="mdescLeft">&#160;</td><td class="mdescRight">return key object for given node  <a href="#ae96bd7e7dec0cc1aecdb8a8ef0b32986">More...</a><br /></td></tr>
<tr class="separator:ae96bd7e7dec0cc1aecdb8a8ef0b32986"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb14871ec360d05cf9874dbd4b7540d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#abb14871ec360d05cf9874dbd4b7540d2">co_node_value</a> (<a class="el" href="struct__treenode__t.html">_treenode_t</a> *node)</td></tr>
<tr class="memdesc:abb14871ec360d05cf9874dbd4b7540d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">return value object for given node  <a href="#abb14871ec360d05cf9874dbd4b7540d2">More...</a><br /></td></tr>
<tr class="separator:abb14871ec360d05cf9874dbd4b7540d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2ddc55e7b91f2b50df96d93621cc92d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct__treenode__t.html">_treenode_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node</a> (<a class="el" href="struct__treenode__t.html">_treenode_t</a> *root, const char *key, const size_t klen)</td></tr>
<tr class="memdesc:ac2ddc55e7b91f2b50df96d93621cc92d"><td class="mdescLeft">&#160;</td><td class="mdescRight">find node in given tree  <a href="#ac2ddc55e7b91f2b50df96d93621cc92d">More...</a><br /></td></tr>
<tr class="separator:ac2ddc55e7b91f2b50df96d93621cc92d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03bc6725b699b74e9dd8b32f8893b1c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct__treenode__t.html">_treenode_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a> (const <a class="el" href="structco__obj__t.html">co_obj_t</a> *tree)</td></tr>
<tr class="memdesc:a03bc6725b699b74e9dd8b32f8893b1c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">return root node of tree object  <a href="#a03bc6725b699b74e9dd8b32f8893b1c2">More...</a><br /></td></tr>
<tr class="separator:a03bc6725b699b74e9dd8b32f8893b1c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a037aa6ee160ade41778b16c31166949a"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#a037aa6ee160ade41778b16c31166949a">co_tree_length</a> (<a class="el" href="structco__obj__t.html">co_obj_t</a> *tree)</td></tr>
<tr class="memdesc:a037aa6ee160ade41778b16c31166949a"><td class="mdescLeft">&#160;</td><td class="mdescRight">return length (number of key-value pairs) of given tree  <a href="#a037aa6ee160ade41778b16c31166949a">More...</a><br /></td></tr>
<tr class="separator:a037aa6ee160ade41778b16c31166949a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59bc6048d3c52d982f8d265d5ff6a674"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#a59bc6048d3c52d982f8d265d5ff6a674">co_tree_find</a> (const <a class="el" href="structco__obj__t.html">co_obj_t</a> *root, const char *key, const size_t klen)</td></tr>
<tr class="memdesc:a59bc6048d3c52d982f8d265d5ff6a674"><td class="mdescLeft">&#160;</td><td class="mdescRight">return value from given tree that corresponds to key  <a href="#a59bc6048d3c52d982f8d265d5ff6a674">More...</a><br /></td></tr>
<tr class="separator:a59bc6048d3c52d982f8d265d5ff6a674"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa24cad2537567dabf4b499ec105bb4f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#aa24cad2537567dabf4b499ec105bb4f1">co_tree_delete</a> (<a class="el" href="structco__obj__t.html">co_obj_t</a> *root, const char *key, const size_t klen)</td></tr>
<tr class="memdesc:aa24cad2537567dabf4b499ec105bb4f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">delete value from given tree that corresponds to key  <a href="#aa24cad2537567dabf4b499ec105bb4f1">More...</a><br /></td></tr>
<tr class="separator:aa24cad2537567dabf4b499ec105bb4f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1693a84a751373827f76a7383322e105"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#a1693a84a751373827f76a7383322e105">co_tree_insert</a> (<a class="el" href="structco__obj__t.html">co_obj_t</a> *root, const char *key, const size_t klen, <a class="el" href="structco__obj__t.html">co_obj_t</a> *value)</td></tr>
<tr class="memdesc:a1693a84a751373827f76a7383322e105"><td class="mdescLeft">&#160;</td><td class="mdescRight">insert object into given tree and associate with key  <a href="#a1693a84a751373827f76a7383322e105">More...</a><br /></td></tr>
<tr class="separator:a1693a84a751373827f76a7383322e105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addca60a763c4f4109fc73894ad1be5ea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#addca60a763c4f4109fc73894ad1be5ea">co_tree_insert_unsafe</a> (<a class="el" href="structco__obj__t.html">co_obj_t</a> *root, const char *key, const size_t klen, <a class="el" href="structco__obj__t.html">co_obj_t</a> *value)</td></tr>
<tr class="memdesc:addca60a763c4f4109fc73894ad1be5ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">insert object into given tree and associate with key, where value is not tied to tree  <a href="#addca60a763c4f4109fc73894ad1be5ea">More...</a><br /></td></tr>
<tr class="separator:addca60a763c4f4109fc73894ad1be5ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3c8163287668df5325049a42354ad48"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#ac3c8163287668df5325049a42354ad48">co_tree_insert_force</a> (<a class="el" href="structco__obj__t.html">co_obj_t</a> *root, const char *key, const size_t klen, <a class="el" href="structco__obj__t.html">co_obj_t</a> *value)</td></tr>
<tr class="memdesc:ac3c8163287668df5325049a42354ad48"><td class="mdescLeft">&#160;</td><td class="mdescRight">insert object into given tree and associate with key (overwrite if it exists)  <a href="#ac3c8163287668df5325049a42354ad48">More...</a><br /></td></tr>
<tr class="separator:ac3c8163287668df5325049a42354ad48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2ecea97d8ddb7e6d61d1e78974daff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#afe2ecea97d8ddb7e6d61d1e78974daff">co_tree_insert_unsafe_force</a> (<a class="el" href="structco__obj__t.html">co_obj_t</a> *root, const char *key, const size_t klen, <a class="el" href="structco__obj__t.html">co_obj_t</a> *value)</td></tr>
<tr class="memdesc:afe2ecea97d8ddb7e6d61d1e78974daff"><td class="mdescLeft">&#160;</td><td class="mdescRight">insert object into given tree and associate with key, where value is not tied to tree (overwrite if it exists)  <a href="#afe2ecea97d8ddb7e6d61d1e78974daff">More...</a><br /></td></tr>
<tr class="separator:afe2ecea97d8ddb7e6d61d1e78974daff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98d4a71092b76fc213aff11aecfea1cb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#a98d4a71092b76fc213aff11aecfea1cb">co_tree_set_str</a> (<a class="el" href="structco__obj__t.html">co_obj_t</a> *root, const char *key, const size_t klen, const char *value, const size_t vlen)</td></tr>
<tr class="memdesc:a98d4a71092b76fc213aff11aecfea1cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">set value contained in an object in the tree with a specified key (if a string)  <a href="#a98d4a71092b76fc213aff11aecfea1cb">More...</a><br /></td></tr>
<tr class="separator:a98d4a71092b76fc213aff11aecfea1cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa36940ca19024780bd57da9a47194f07"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#aa36940ca19024780bd57da9a47194f07">co_tree_set_int</a> (<a class="el" href="structco__obj__t.html">co_obj_t</a> *root, const char *key, const size_t klen, const signed long value)</td></tr>
<tr class="memdesc:aa36940ca19024780bd57da9a47194f07"><td class="mdescLeft">&#160;</td><td class="mdescRight">set value contained in an object in the tree with a specified key (if an int)  <a href="#aa36940ca19024780bd57da9a47194f07">More...</a><br /></td></tr>
<tr class="separator:aa36940ca19024780bd57da9a47194f07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7fd84b17af9c4402fd66d9778e91413"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#aa7fd84b17af9c4402fd66d9778e91413">co_tree_set_uint</a> (<a class="el" href="structco__obj__t.html">co_obj_t</a> *root, const char *key, const size_t klen, const unsigned long value)</td></tr>
<tr class="memdesc:aa7fd84b17af9c4402fd66d9778e91413"><td class="mdescLeft">&#160;</td><td class="mdescRight">set value contained in an object in the tree with a specified key (if an unsigned int)  <a href="#aa7fd84b17af9c4402fd66d9778e91413">More...</a><br /></td></tr>
<tr class="separator:aa7fd84b17af9c4402fd66d9778e91413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6af2c159ed709de04f69edb820548af0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#a6af2c159ed709de04f69edb820548af0">co_tree_set_float</a> (<a class="el" href="structco__obj__t.html">co_obj_t</a> *root, const char *key, const size_t klen, const double value)</td></tr>
<tr class="memdesc:a6af2c159ed709de04f69edb820548af0"><td class="mdescLeft">&#160;</td><td class="mdescRight">set value contained in an object in the tree with a specified key (if a float)  <a href="#a6af2c159ed709de04f69edb820548af0">More...</a><br /></td></tr>
<tr class="separator:a6af2c159ed709de04f69edb820548af0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85f5ae243dc4c77813da2a99d189b69c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#a85f5ae243dc4c77813da2a99d189b69c">co_tree_process</a> (<a class="el" href="structco__obj__t.html">co_obj_t</a> *tree, const co_iter_t iter, void *context)</td></tr>
<tr class="memdesc:a85f5ae243dc4c77813da2a99d189b69c"><td class="mdescLeft">&#160;</td><td class="mdescRight">process tree with given iterator function  <a href="#a85f5ae243dc4c77813da2a99d189b69c">More...</a><br /></td></tr>
<tr class="separator:a85f5ae243dc4c77813da2a99d189b69c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69c45752c5cab97c72512d4d50781fb6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#a69c45752c5cab97c72512d4d50781fb6">co_tree_destroy</a> (<a class="el" href="structco__obj__t.html">co_obj_t</a> *root)</td></tr>
<tr class="memdesc:a69c45752c5cab97c72512d4d50781fb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">free tree structure  <a href="#a69c45752c5cab97c72512d4d50781fb6">More...</a><br /></td></tr>
<tr class="separator:a69c45752c5cab97c72512d4d50781fb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fb27da4a74cbfe0ba1d3537e3bd83bd"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#a8fb27da4a74cbfe0ba1d3537e3bd83bd">co_tree_raw</a> (char *output, const size_t olen, const <a class="el" href="structco__obj__t.html">co_obj_t</a> *tree)</td></tr>
<tr class="memdesc:a8fb27da4a74cbfe0ba1d3537e3bd83bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">dump raw representation of tree  <a href="#a8fb27da4a74cbfe0ba1d3537e3bd83bd">More...</a><br /></td></tr>
<tr class="separator:a8fb27da4a74cbfe0ba1d3537e3bd83bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adce5da6ec6de712ac6f996847fa71b49"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#adce5da6ec6de712ac6f996847fa71b49">co_tree_import</a> (<a class="el" href="structco__obj__t.html">co_obj_t</a> **tree, const char *input, const size_t ilen)</td></tr>
<tr class="memdesc:adce5da6ec6de712ac6f996847fa71b49"><td class="mdescLeft">&#160;</td><td class="mdescRight">import raw representation of tree  <a href="#adce5da6ec6de712ac6f996847fa71b49">More...</a><br /></td></tr>
<tr class="separator:adce5da6ec6de712ac6f996847fa71b49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e250d193f7644bd16c49101d4bb5617"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#a6e250d193f7644bd16c49101d4bb5617">co_tree_print_indent</a> (<a class="el" href="structco__obj__t.html">co_obj_t</a> *tree, int indent)</td></tr>
<tr class="memdesc:a6e250d193f7644bd16c49101d4bb5617"><td class="mdescLeft">&#160;</td><td class="mdescRight">print tree with indent  <a href="#a6e250d193f7644bd16c49101d4bb5617">More...</a><br /></td></tr>
<tr class="separator:a6e250d193f7644bd16c49101d4bb5617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c1930bf91267d4163412121eb46cec1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#a9c1930bf91267d4163412121eb46cec1">co_tree_print</a> (<a class="el" href="structco__obj__t.html">co_obj_t</a> *tree)</td></tr>
<tr class="memdesc:a9c1930bf91267d4163412121eb46cec1"><td class="mdescLeft">&#160;</td><td class="mdescRight">print tree  <a href="#a9c1930bf91267d4163412121eb46cec1">More...</a><br /></td></tr>
<tr class="separator:a9c1930bf91267d4163412121eb46cec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad624bba1d869c2950b4f770d04847e6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8h.html#aad624bba1d869c2950b4f770d04847e6">co_tree_print_raw</a> (<a class="el" href="structco__obj__t.html">co_obj_t</a> *tree)</td></tr>
<tr class="memdesc:aad624bba1d869c2950b4f770d04847e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">print raw dump of tree  <a href="#aad624bba1d869c2950b4f770d04847e6">More...</a><br /></td></tr>
<tr class="separator:aad624bba1d869c2950b4f770d04847e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a905bc08acb1ae8967dba62fc4453ef49"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a905bc08acb1ae8967dba62fc4453ef49"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>splitchar</b></td></tr>
<tr class="separator:a905bc08acb1ae8967dba62fc4453ef49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad23e9436afe9f9d8a5b3f344fb83dd35"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad23e9436afe9f9d8a5b3f344fb83dd35"></a>
<a class="el" href="struct__treenode__t.html">_treenode_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>low</b></td></tr>
<tr class="separator:ad23e9436afe9f9d8a5b3f344fb83dd35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afec67169e89f26bb5280f04cbf43f299"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afec67169e89f26bb5280f04cbf43f299"></a>
<a class="el" href="struct__treenode__t.html">_treenode_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>equal</b></td></tr>
<tr class="separator:afec67169e89f26bb5280f04cbf43f299"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5854f79f045b2c482045eb1029da344"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa5854f79f045b2c482045eb1029da344"></a>
<a class="el" href="struct__treenode__t.html">_treenode_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>high</b></td></tr>
<tr class="separator:aa5854f79f045b2c482045eb1029da344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb7b6e4324610549e97e7e313db5b546"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adb7b6e4324610549e97e7e313db5b546"></a>
<a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>key</b></td></tr>
<tr class="separator:adb7b6e4324610549e97e7e313db5b546"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ae5e49b50c06e2ab027d75d2b7f1c29"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2ae5e49b50c06e2ab027d75d2b7f1c29"></a>
<a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>value</b></td></tr>
<tr class="separator:a2ae5e49b50c06e2ab027d75d2b7f1c29"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>String-indexed search tree for Commotion object system. </p>
<dl class="section author"><dt>Author</dt><dd>Josh King (jheretic), <a href="#" onclick="location.href='mai'+'lto:'+'jki'+'ng'+'@ch'+'am'+'ban'+'a.'+'net'; return false;">jking<span style="display: none;">.nosp@m.</span>@cha<span style="display: none;">.nosp@m.</span>mbana<span style="display: none;">.nosp@m.</span>.net</a> </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a78c42d83e66bd93450099b27221d9d28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _DECLARE_TREE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">L</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>__attribute__((packed)) { <a class="code" href="structco__obj__t.html">co_obj_t</a> _header; uint##L##_t _len; \</div>
<div class="line">  _treenode_t *root;} co_tree##L##_t; <span class="keywordtype">int</span> co_tree##L##_alloc(\</div>
<div class="line">  <a class="code" href="structco__obj__t.html">co_obj_t</a> *output); <a class="code" href="structco__obj__t.html">co_obj_t</a> *co_tree##L##_create(<span class="keywordtype">void</span>);</div>
<div class="ttc" id="structco__obj__t_html"><div class="ttname"><a href="structco__obj__t.html">co_obj_t</a></div><div class="ttdef"><b>Definition:</b> obj.h:131</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ae96bd7e7dec0cc1aecdb8a8ef0b32986"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structco__obj__t.html">co_obj_t</a>* co_node_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__treenode__t.html">_treenode_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return key object for given node </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>node to return object for </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;{</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordflow">if</span>(node != NULL)</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> node-&gt;key;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abb14871ec360d05cf9874dbd4b7540d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structco__obj__t.html">co_obj_t</a>* co_node_value </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__treenode__t.html">_treenode_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return value object for given node </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>node to return object for </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;{</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">if</span>(node != NULL)</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">return</span> node-&gt;value;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa24cad2537567dabf4b499ec105bb4f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structco__obj__t.html">co_obj_t</a>* co_tree_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>klen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>delete value from given tree that corresponds to key </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">root</td><td>tree object </td></tr>
    <tr><td class="paramname">key</td><td>key to search for </td></tr>
    <tr><td class="paramname">klen</td><td>length of key </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;{</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <a class="code" href="structco__obj__t.html">co_obj_t</a> *value = NULL;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">if</span>(CO_TYPE(root) == _tree16)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    ((co_tree16_t *)root)-&gt;root = _co_tree_delete_r(((co_tree16_t *)root)-&gt;root, \</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      ((co_tree16_t *)root)-&gt;root, key, klen, &amp;value);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  } </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(CO_TYPE(root) == _tree32) </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    ((co_tree32_t *)root)-&gt;root = _co_tree_delete_r(((co_tree32_t *)root)-&gt;root, \</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      ((co_tree32_t *)root)-&gt;root, key, klen, &amp;value);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  CHECK(value != NULL, <span class="stringliteral">&quot;Failed to delete value.&quot;</span>);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  CHECK(_co_tree_decrement(root) &gt;= 0, <span class="stringliteral">&quot;Failed to decrement value.&quot;</span>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">return</span> value;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;error:</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;}</div>
<div class="ttc" id="structco__obj__t_html"><div class="ttname"><a href="structco__obj__t.html">co_obj_t</a></div><div class="ttdef"><b>Definition:</b> obj.h:131</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a69c45752c5cab97c72512d4d50781fb6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void co_tree_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>root</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>free tree structure </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">root</td><td>tree object to free </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;{</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">if</span>(root) {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        h_free(root);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a59bc6048d3c52d982f8d265d5ff6a674"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structco__obj__t.html">co_obj_t</a>* co_tree_find </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>klen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return value from given tree that corresponds to key </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">root</td><td>tree object </td></tr>
    <tr><td class="paramname">key</td><td>key to search for </td></tr>
    <tr><td class="paramname">klen</td><td>length of key </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node()</a>, and <a class="el" href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root()</a>.</p>

<p>Referenced by <a class="el" href="cmd_8h.html#a20f5016011836ec0433eb32e9fe1af59">co_cmd_desc()</a>, <a class="el" href="cmd_8h.html#a3e3db670f8a4187b7e198804c2e8dd6a">co_cmd_exec()</a>, <a class="el" href="cmd_8h.html#a47fc07bfc4364172dccd22da5bdc6d77">co_cmd_hook()</a>, <a class="el" href="cmd_8h.html#ab5c9cbfe29ece8f375bc8c13d959ddb7">co_cmd_hook_str()</a>, <a class="el" href="cmd_8h.html#a49133510a4fcf530f76114c7f14e0243">co_cmd_usage()</a>, <a class="el" href="profile_8h.html#acdf7b575f8f7f15b1d5ad9661c806471">co_profile_get()</a>, <a class="el" href="profile_8h.html#a2ef9c6fbc2f1b0477258044b7e361dc0">co_profile_get_float()</a>, <a class="el" href="profile_8h.html#aa9bb893eb1f733cbaf8576277021fb63">co_profile_get_int()</a>, <a class="el" href="profile_8h.html#ab6f6c35bbf46acf3598baaccbebbc6a2">co_profile_get_str()</a>, <a class="el" href="profile_8h.html#ac84baa09fb2a69bb2cd2bd6b126f2093">co_profile_get_uint()</a>, and <a class="el" href="commotion_8h.html#a2786604bc03966bb33cf04f7e657a782">co_response_get()</a>.</p>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;{</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  DEBUG(<span class="stringliteral">&quot;Get from tree: %s&quot;</span>, key);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="struct__treenode__t.html">_treenode_t</a> *n = NULL;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  CHECK((n = <a class="code" href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a>(root)) != NULL, <span class="stringliteral">&quot;Specified object is not a tree.&quot;</span>);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  n = <a class="code" href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node</a>(n, key, klen);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  CHECK(n != NULL, <span class="stringliteral">&quot;Unable to find value.&quot;</span>);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">return</span> n-&gt;value;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;error:</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">return</span> NULL; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div>
<div class="ttc" id="tree_8c_html_ac2ddc55e7b91f2b50df96d93621cc92d"><div class="ttname"><a href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node</a></div><div class="ttdeci">_treenode_t * co_tree_find_node(_treenode_t *root, const char *key, const size_t klen)</div><div class="ttdoc">find node in given tree </div><div class="ttdef"><b>Definition:</b> tree.c:140</div></div>
<div class="ttc" id="struct__treenode__t_html"><div class="ttname"><a href="struct__treenode__t.html">_treenode_t</a></div><div class="ttdef"><b>Definition:</b> tree.h:44</div></div>
<div class="ttc" id="tree_8c_html_a03bc6725b699b74e9dd8b32f8893b1c2"><div class="ttname"><a href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a></div><div class="ttdeci">_treenode_t * co_tree_root(const co_obj_t *tree)</div><div class="ttdoc">return root node of tree object </div><div class="ttdef"><b>Definition:</b> tree.c:69</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac2ddc55e7b91f2b50df96d93621cc92d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__treenode__t.html">_treenode_t</a>* co_tree_find_node </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__treenode__t.html">_treenode_t</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>klen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>find node in given tree </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">root</td><td>tree in which to search </td></tr>
    <tr><td class="paramname">key</td><td>key to search for </td></tr>
    <tr><td class="paramname">klen</td><td>length of key </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="tree_8h.html#a59bc6048d3c52d982f8d265d5ff6a674">co_tree_find()</a>, <a class="el" href="tree_8h.html#a1693a84a751373827f76a7383322e105">co_tree_insert()</a>, <a class="el" href="tree_8h.html#addca60a763c4f4109fc73894ad1be5ea">co_tree_insert_unsafe()</a>, <a class="el" href="tree_8h.html#a6af2c159ed709de04f69edb820548af0">co_tree_set_float()</a>, <a class="el" href="tree_8h.html#aa36940ca19024780bd57da9a47194f07">co_tree_set_int()</a>, <a class="el" href="tree_8h.html#a98d4a71092b76fc213aff11aecfea1cb">co_tree_set_str()</a>, and <a class="el" href="tree_8h.html#aa7fd84b17af9c4402fd66d9778e91413">co_tree_set_uint()</a>.</p>
<div class="fragment"><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;{</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <a class="code" href="struct__treenode__t.html">_treenode_t</a> *n = root;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordtype">size_t</span> i = 0;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordflow">while</span>(i &lt; klen &amp;&amp; n) </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">if</span> (key[i] &lt; n-&gt;splitchar) </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      n = n-&gt;low; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    } </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (key[i] == n-&gt;splitchar) </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      i++;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordflow">if</span>(i &lt; klen) n = n-&gt;equal; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    } </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">else</span> </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      n = n-&gt;high; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">if</span>(n) </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">return</span> n;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  } </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">else</span> </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">return</span> NULL; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div>
<div class="ttc" id="struct__treenode__t_html"><div class="ttname"><a href="struct__treenode__t.html">_treenode_t</a></div><div class="ttdef"><b>Definition:</b> tree.h:44</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adce5da6ec6de712ac6f996847fa71b49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t co_tree_import </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco__obj__t.html">co_obj_t</a> **&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>ilen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>import raw representation of tree </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tree</td><td>target pointer of new, imported tree object </td></tr>
    <tr><td class="paramname">input</td><td>input buffer </td></tr>
    <tr><td class="paramname">ilen</td><td>length of input buffer </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="list_8c.html#a07c935572c069373bddadf2907a09b2b">co_list_import()</a>, <a class="el" href="tree_8c.html#adce5da6ec6de712ac6f996847fa71b49">co_tree_import()</a>, and <a class="el" href="tree_8c.html#a1693a84a751373827f76a7383322e105">co_tree_insert()</a>.</p>

<p>Referenced by <a class="el" href="list_8h.html#a07c935572c069373bddadf2907a09b2b">co_list_import()</a>, and <a class="el" href="tree_8h.html#adce5da6ec6de712ac6f996847fa71b49">co_tree_import()</a>.</p>
<div class="fragment"><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;{</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordtype">size_t</span> length = 0, olen = 0, read = 0, klen = 0;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keywordtype">char</span> *kstr = NULL;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <a class="code" href="structco__obj__t.html">co_obj_t</a> *obj = NULL;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *cursor = input;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="keywordflow">switch</span>((uint8_t)input[0])</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordflow">case</span> _tree16:</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      length = *((uint16_t *)(input + 1));</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      *tree = co_tree16_create();</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      cursor += <span class="keyword">sizeof</span>(uint16_t) + 1;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      read = <span class="keyword">sizeof</span>(uint16_t) + 1;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">case</span> _tree32:</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      length = (uint32_t)(*(uint32_t*)(input + 1));</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      *tree = co_tree32_create();</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      cursor += <span class="keyword">sizeof</span>(uint32_t) + 1;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      read = <span class="keyword">sizeof</span>(uint32_t) + 1;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      SENTINEL(<span class="stringliteral">&quot;Not a tree.&quot;</span>);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  }</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="keywordflow">while</span>(i &lt; length &amp;&amp; read &lt;= ilen)</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    DEBUG(<span class="stringliteral">&quot;Importing tuple:&quot;</span>);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">if</span>((uint8_t)cursor[0] == _str8)</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      DEBUG(<span class="stringliteral">&quot;Reading key...&quot;</span>);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      cursor += 1;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      read += 1;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      klen = (uint8_t)cursor[0];</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      kstr = (<span class="keywordtype">char</span> *)&amp;cursor[1];</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      cursor += klen + 1;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      read += klen + 1;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      DEBUG(<span class="stringliteral">&quot;Reading value...&quot;</span>);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      <span class="keywordflow">switch</span>((uint8_t)cursor[0])</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="keywordflow">case</span> _list16:</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <span class="keywordflow">case</span> _list32:</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;          olen = <a class="code" href="list_8c.html#a07c935572c069373bddadf2907a09b2b">co_list_import</a>(&amp;obj, cursor, ilen - read);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <span class="keywordflow">case</span> _tree16:</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="keywordflow">case</span> _tree32:</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;          olen = <a class="code" href="tree_8c.html#adce5da6ec6de712ac6f996847fa71b49">co_tree_import</a>(&amp;obj, cursor, ilen - read);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;          olen = co_obj_import(&amp;obj, cursor, ilen - read, 0);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      }</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      CHECK(olen &gt; 0, <span class="stringliteral">&quot;Failed to import object.&quot;</span>);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      cursor +=olen;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      read += olen;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      DEBUG(<span class="stringliteral">&quot;Inserting value into tree with key.&quot;</span>);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      CHECK(<a class="code" href="tree_8c.html#a1693a84a751373827f76a7383322e105">co_tree_insert</a>(*tree, kstr, klen, obj), <span class="stringliteral">&quot;Failed to insert object.&quot;</span>);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      i++;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  }</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="keywordflow">return</span> read;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;error:</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="keywordflow">if</span>(obj != NULL) co_obj_free(obj);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;}</div>
<div class="ttc" id="structco__obj__t_html"><div class="ttname"><a href="structco__obj__t.html">co_obj_t</a></div><div class="ttdef"><b>Definition:</b> obj.h:131</div></div>
<div class="ttc" id="list_8c_html_a07c935572c069373bddadf2907a09b2b"><div class="ttname"><a href="list_8c.html#a07c935572c069373bddadf2907a09b2b">co_list_import</a></div><div class="ttdeci">size_t co_list_import(co_obj_t **list, const char *input, const size_t ilen)</div><div class="ttdoc">import list from raw representation </div><div class="ttdef"><b>Definition:</b> list.c:562</div></div>
<div class="ttc" id="tree_8c_html_a1693a84a751373827f76a7383322e105"><div class="ttname"><a href="tree_8c.html#a1693a84a751373827f76a7383322e105">co_tree_insert</a></div><div class="ttdeci">int co_tree_insert(co_obj_t *root, const char *key, const size_t klen, co_obj_t *value)</div><div class="ttdoc">insert object into given tree and associate with key </div><div class="ttdef"><b>Definition:</b> tree.c:332</div></div>
<div class="ttc" id="tree_8c_html_adce5da6ec6de712ac6f996847fa71b49"><div class="ttname"><a href="tree_8c.html#adce5da6ec6de712ac6f996847fa71b49">co_tree_import</a></div><div class="ttdeci">size_t co_tree_import(co_obj_t **tree, const char *input, const size_t ilen)</div><div class="ttdoc">import raw representation of tree </div><div class="ttdef"><b>Definition:</b> tree.c:659</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1693a84a751373827f76a7383322e105"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int co_tree_insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>klen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>insert object into given tree and associate with key </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">root</td><td>tree object </td></tr>
    <tr><td class="paramname">key</td><td>key to search for </td></tr>
    <tr><td class="paramname">klen</td><td>length of key </td></tr>
    <tr><td class="paramname">value</td><td>value object to insert </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node()</a>, and <a class="el" href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root()</a>.</p>

<p>Referenced by <a class="el" href="tree_8h.html#adce5da6ec6de712ac6f996847fa71b49">co_tree_import()</a>, and <a class="el" href="daemon_8c.html#af68a09cb7d1ba46ac46187c590dc6468">dispatcher_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;{</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <a class="code" href="struct__treenode__t.html">_treenode_t</a> *n = <a class="code" href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node</a>(<a class="code" href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a>(root), key, klen);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  CHECK(n == NULL, <span class="stringliteral">&quot;Key exists.&quot;</span>);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">return</span> _co_tree_insert(root, key, klen, value, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;error:</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;}</div>
<div class="ttc" id="tree_8c_html_ac2ddc55e7b91f2b50df96d93621cc92d"><div class="ttname"><a href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node</a></div><div class="ttdeci">_treenode_t * co_tree_find_node(_treenode_t *root, const char *key, const size_t klen)</div><div class="ttdoc">find node in given tree </div><div class="ttdef"><b>Definition:</b> tree.c:140</div></div>
<div class="ttc" id="struct__treenode__t_html"><div class="ttname"><a href="struct__treenode__t.html">_treenode_t</a></div><div class="ttdef"><b>Definition:</b> tree.h:44</div></div>
<div class="ttc" id="tree_8c_html_a03bc6725b699b74e9dd8b32f8893b1c2"><div class="ttname"><a href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a></div><div class="ttdeci">_treenode_t * co_tree_root(const co_obj_t *tree)</div><div class="ttdoc">return root node of tree object </div><div class="ttdef"><b>Definition:</b> tree.c:69</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac3c8163287668df5325049a42354ad48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int co_tree_insert_force </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>klen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>insert object into given tree and associate with key (overwrite if it exists) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">root</td><td>tree object </td></tr>
    <tr><td class="paramname">key</td><td>key to search for </td></tr>
    <tr><td class="paramname">klen</td><td>length of key </td></tr>
    <tr><td class="paramname">value</td><td>value object to insert </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;{</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="keywordflow">return</span> _co_tree_insert(root, key, klen, value, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="addca60a763c4f4109fc73894ad1be5ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int co_tree_insert_unsafe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>klen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>insert object into given tree and associate with key, where value is not tied to tree </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">root</td><td>tree object </td></tr>
    <tr><td class="paramname">key</td><td>key to search for </td></tr>
    <tr><td class="paramname">klen</td><td>length of key </td></tr>
    <tr><td class="paramname">value</td><td>value object to insert </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node()</a>, and <a class="el" href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root()</a>.</p>
<div class="fragment"><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;{</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <a class="code" href="struct__treenode__t.html">_treenode_t</a> *n = <a class="code" href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node</a>(<a class="code" href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a>(root), key, klen);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  CHECK(n == NULL, <span class="stringliteral">&quot;Key exists.&quot;</span>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keywordflow">return</span> _co_tree_insert(root, key, klen, value, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;error:</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;}</div>
<div class="ttc" id="tree_8c_html_ac2ddc55e7b91f2b50df96d93621cc92d"><div class="ttname"><a href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node</a></div><div class="ttdeci">_treenode_t * co_tree_find_node(_treenode_t *root, const char *key, const size_t klen)</div><div class="ttdoc">find node in given tree </div><div class="ttdef"><b>Definition:</b> tree.c:140</div></div>
<div class="ttc" id="struct__treenode__t_html"><div class="ttname"><a href="struct__treenode__t.html">_treenode_t</a></div><div class="ttdef"><b>Definition:</b> tree.h:44</div></div>
<div class="ttc" id="tree_8c_html_a03bc6725b699b74e9dd8b32f8893b1c2"><div class="ttname"><a href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a></div><div class="ttdeci">_treenode_t * co_tree_root(const co_obj_t *tree)</div><div class="ttdoc">return root node of tree object </div><div class="ttdef"><b>Definition:</b> tree.c:69</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afe2ecea97d8ddb7e6d61d1e78974daff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int co_tree_insert_unsafe_force </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>klen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>insert object into given tree and associate with key, where value is not tied to tree (overwrite if it exists) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">root</td><td>tree object </td></tr>
    <tr><td class="paramname">key</td><td>key to search for </td></tr>
    <tr><td class="paramname">klen</td><td>length of key </td></tr>
    <tr><td class="paramname">value</td><td>value object to insert </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;{</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordflow">return</span> _co_tree_insert(root, key, klen, value, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a037aa6ee160ade41778b16c31166949a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t co_tree_length </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>tree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return length (number of key-value pairs) of given tree </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tree</td><td>tree object </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;{ </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">return</span> _co_tree_change_length(tree, 0);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9c1930bf91267d4163412121eb46cec1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int co_tree_print </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>tree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>print tree </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tree</td><td>tree object to print </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="tree_8c.html#a6e250d193f7644bd16c49101d4bb5617">co_tree_print_indent()</a>.</p>

<p>Referenced by <a class="el" href="commotion_8h.html#a40b16d46e144baebcdf884dfd7f10bb7">co_response_print()</a>.</p>
<div class="fragment"><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;{</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  CHECK_MEM(tree);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <a class="code" href="tree_8c.html#a6e250d193f7644bd16c49101d4bb5617">co_tree_print_indent</a>(tree,0);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;error:</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;}</div>
<div class="ttc" id="tree_8c_html_a6e250d193f7644bd16c49101d4bb5617"><div class="ttname"><a href="tree_8c.html#a6e250d193f7644bd16c49101d4bb5617">co_tree_print_indent</a></div><div class="ttdeci">void co_tree_print_indent(co_obj_t *tree, int indent)</div><div class="ttdoc">print tree with indent </div><div class="ttdef"><b>Definition:</b> tree.c:809</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6e250d193f7644bd16c49101d4bb5617"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void co_tree_print_indent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>indent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>print tree with indent </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tree</td><td>tree object to print </td></tr>
    <tr><td class="paramname">indent</td><td>level of indent </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root()</a>.</p>

<p>Referenced by <a class="el" href="tree_8h.html#a9c1930bf91267d4163412121eb46cec1">co_tree_print()</a>.</p>
<div class="fragment"><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;{</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; indent; i++) printf(<span class="stringliteral">&quot;  &quot;</span>);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  printf(<span class="stringliteral">&quot;{\n&quot;</span>);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  _co_tree_print_r(tree, <a class="code" href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a>(tree), &amp;count, indent+1);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; indent; i++) printf(<span class="stringliteral">&quot;  &quot;</span>);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  printf(<span class="stringliteral">&quot;}&quot;</span>);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <span class="keywordflow">if</span> (!indent) printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;}</div>
<div class="ttc" id="tree_8c_html_a03bc6725b699b74e9dd8b32f8893b1c2"><div class="ttname"><a href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a></div><div class="ttdeci">_treenode_t * co_tree_root(const co_obj_t *tree)</div><div class="ttdoc">return root node of tree object </div><div class="ttdef"><b>Definition:</b> tree.c:69</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aad624bba1d869c2950b4f770d04847e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int co_tree_print_raw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>tree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>print raw dump of tree </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tree</td><td>tree object to print </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root()</a>.</p>
<div class="fragment"><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;{</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  CHECK_MEM(tree);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  _co_tree_print_raw_r(tree, <a class="code" href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a>(tree));</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;error:</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;}</div>
<div class="ttc" id="tree_8c_html_a03bc6725b699b74e9dd8b32f8893b1c2"><div class="ttname"><a href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a></div><div class="ttdeci">_treenode_t * co_tree_root(const co_obj_t *tree)</div><div class="ttdoc">return root node of tree object </div><div class="ttdef"><b>Definition:</b> tree.c:69</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a85f5ae243dc4c77813da2a99d189b69c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int co_tree_process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const co_iter_t&#160;</td>
          <td class="paramname"><em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>process tree with given iterator function </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tree</td><td>tree object to process </td></tr>
    <tr><td class="paramname">iter</td><td>iterator function </td></tr>
    <tr><td class="paramname">context</td><td>additional arguments to iterator </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="cmd_8h.html#ae08ba46875554da0d82312ef3e10083f">co_cmd_process()</a>.</p>
<div class="fragment"><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;{</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="keywordflow">switch</span>(CO_TYPE(tree))</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">case</span> _tree16:</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      _co_tree_process_r(tree, ((co_tree16_t *)tree)-&gt;root, iter, context);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">case</span> _tree32:</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      _co_tree_process_r(tree, ((co_tree32_t *)tree)-&gt;root, iter, context);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      SENTINEL(<span class="stringliteral">&quot;Object is not a tree.&quot;</span>);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;error:</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8fb27da4a74cbfe0ba1d3537e3bd83bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t co_tree_raw </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>olen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>tree</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>dump raw representation of tree </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">output</td><td>output buffer </td></tr>
    <tr><td class="paramname">olen</td><td>length of output buffer </td></tr>
    <tr><td class="paramname">tree</td><td>tree to dump </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root()</a>.</p>

<p>Referenced by <a class="el" href="list_8h.html#aa314c1c4f43a8314f499ddc28315bfa0">co_list_raw()</a>, and <a class="el" href="msg_8h.html#aee952060c704142198bfa0de4c5d8c93">co_response_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;{</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="keywordtype">char</span> *out = output;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordtype">size_t</span> written = 0;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keywordflow">switch</span>(CO_TYPE(tree))</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">case</span> _tree16:</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      memmove(out, &amp;(tree-&gt;_type), <span class="keyword">sizeof</span>(tree-&gt;_type));</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      out += <span class="keyword">sizeof</span>(tree-&gt;_type);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      written += <span class="keyword">sizeof</span>(tree-&gt;_type);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      memmove(out, &amp;(((co_tree16_t *)tree)-&gt;_len), <span class="keyword">sizeof</span>(((co_tree16_t *)tree)-&gt;_len));</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      out += <span class="keyword">sizeof</span>(((co_tree16_t *)tree)-&gt;_len);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      written += <span class="keyword">sizeof</span>(((co_tree16_t *)tree)-&gt;_len);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">case</span> _tree32:</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      memmove(out, &amp;(tree-&gt;_type), <span class="keyword">sizeof</span>(tree-&gt;_type));</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      out += <span class="keyword">sizeof</span>(tree-&gt;_type);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      written += <span class="keyword">sizeof</span>(tree-&gt;_type);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      memmove(out, &amp;(((co_tree32_t *)tree)-&gt;_len), <span class="keyword">sizeof</span>(((co_tree32_t *)tree)-&gt;_len));</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      out += <span class="keyword">sizeof</span>(((co_tree32_t *)tree)-&gt;_len);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      written += <span class="keyword">sizeof</span>(((co_tree32_t *)tree)-&gt;_len);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      SENTINEL(<span class="stringliteral">&quot;Not a tree object.&quot;</span>);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  }</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  </div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  _co_tree_raw_r(&amp;out, &amp;olen, &amp;written, <a class="code" href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a>(tree));</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  DEBUG(<span class="stringliteral">&quot;Tree bytes written: %d&quot;</span>, (<span class="keywordtype">int</span>)written);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keywordflow">return</span> written;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;error:</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;}</div>
<div class="ttc" id="tree_8c_html_a03bc6725b699b74e9dd8b32f8893b1c2"><div class="ttname"><a href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a></div><div class="ttdeci">_treenode_t * co_tree_root(const co_obj_t *tree)</div><div class="ttdoc">return root node of tree object </div><div class="ttdef"><b>Definition:</b> tree.c:69</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a03bc6725b699b74e9dd8b32f8893b1c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__treenode__t.html">_treenode_t</a>* co_tree_root </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>tree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return root node of tree object </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tree</td><td>tree object that contains root </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="profile_8h.html#ab554e87952effcf083dd93f98ca1cff9">co_profile_export_file()</a>, <a class="el" href="tree_8h.html#a59bc6048d3c52d982f8d265d5ff6a674">co_tree_find()</a>, <a class="el" href="tree_8h.html#a1693a84a751373827f76a7383322e105">co_tree_insert()</a>, <a class="el" href="tree_8h.html#addca60a763c4f4109fc73894ad1be5ea">co_tree_insert_unsafe()</a>, <a class="el" href="tree_8h.html#a6e250d193f7644bd16c49101d4bb5617">co_tree_print_indent()</a>, <a class="el" href="tree_8h.html#aad624bba1d869c2950b4f770d04847e6">co_tree_print_raw()</a>, <a class="el" href="tree_8h.html#a8fb27da4a74cbfe0ba1d3537e3bd83bd">co_tree_raw()</a>, <a class="el" href="tree_8h.html#a6af2c159ed709de04f69edb820548af0">co_tree_set_float()</a>, <a class="el" href="tree_8h.html#aa36940ca19024780bd57da9a47194f07">co_tree_set_int()</a>, <a class="el" href="tree_8h.html#a98d4a71092b76fc213aff11aecfea1cb">co_tree_set_str()</a>, and <a class="el" href="tree_8h.html#aa7fd84b17af9c4402fd66d9778e91413">co_tree_set_uint()</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  CHECK_MEM(tree);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <a class="code" href="struct__treenode__t.html">_treenode_t</a> *n = NULL;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">if</span>(CO_TYPE(tree) == _tree16)</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    n = ((co_tree16_t *)tree)-&gt;root;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  } </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(CO_TYPE(tree) == _tree32) </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    n = ((co_tree32_t *)tree)-&gt;root;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordflow">else</span> SENTINEL(<span class="stringliteral">&quot;Specified object is not a tree.&quot;</span>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordflow">return</span> n;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;error:</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div>
<div class="ttc" id="struct__treenode__t_html"><div class="ttname"><a href="struct__treenode__t.html">_treenode_t</a></div><div class="ttdef"><b>Definition:</b> tree.h:44</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6af2c159ed709de04f69edb820548af0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int co_tree_set_float </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>klen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set value contained in an object in the tree with a specified key (if a float) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">root</td><td>tree object </td></tr>
    <tr><td class="paramname">key</td><td>key to search for </td></tr>
    <tr><td class="paramname">klen</td><td>length of key </td></tr>
    <tr><td class="paramname">value</td><td>value to insert </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node()</a>, and <a class="el" href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root()</a>.</p>

<p>Referenced by <a class="el" href="profile_8h.html#a38bdd62d15dd47ac11c88c1bda69780c">co_profile_set_float()</a>.</p>
<div class="fragment"><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;{</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  DEBUG(<span class="stringliteral">&quot;Get from tree: %s&quot;</span>, key);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <a class="code" href="struct__treenode__t.html">_treenode_t</a> *n = NULL;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  CHECK((n = <a class="code" href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a>(root)) != NULL, <span class="stringliteral">&quot;Specified object is not a tree.&quot;</span>);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  n = <a class="code" href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node</a>(n, key, klen);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  CHECK(n != NULL, <span class="stringliteral">&quot;Failed to find key in tree.&quot;</span>);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  CHECK(_co_node_set_float(n, value), <span class="stringliteral">&quot;Unable to set float for node.&quot;</span>);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;error:</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;}</div>
<div class="ttc" id="tree_8c_html_ac2ddc55e7b91f2b50df96d93621cc92d"><div class="ttname"><a href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node</a></div><div class="ttdeci">_treenode_t * co_tree_find_node(_treenode_t *root, const char *key, const size_t klen)</div><div class="ttdoc">find node in given tree </div><div class="ttdef"><b>Definition:</b> tree.c:140</div></div>
<div class="ttc" id="struct__treenode__t_html"><div class="ttname"><a href="struct__treenode__t.html">_treenode_t</a></div><div class="ttdef"><b>Definition:</b> tree.h:44</div></div>
<div class="ttc" id="tree_8c_html_a03bc6725b699b74e9dd8b32f8893b1c2"><div class="ttname"><a href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a></div><div class="ttdeci">_treenode_t * co_tree_root(const co_obj_t *tree)</div><div class="ttdoc">return root node of tree object </div><div class="ttdef"><b>Definition:</b> tree.c:69</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa36940ca19024780bd57da9a47194f07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int co_tree_set_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>klen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const signed long&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set value contained in an object in the tree with a specified key (if an int) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">root</td><td>tree object </td></tr>
    <tr><td class="paramname">key</td><td>key to search for </td></tr>
    <tr><td class="paramname">klen</td><td>length of key </td></tr>
    <tr><td class="paramname">value</td><td>value to insert </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node()</a>, and <a class="el" href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root()</a>.</p>

<p>Referenced by <a class="el" href="profile_8h.html#afb854daffb4be38489552fff3dff28c1">co_profile_set_int()</a>.</p>
<div class="fragment"><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;{</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  DEBUG(<span class="stringliteral">&quot;Get from tree: %s&quot;</span>, key);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <a class="code" href="struct__treenode__t.html">_treenode_t</a> *n = NULL;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  CHECK((n = <a class="code" href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a>(root)) != NULL, <span class="stringliteral">&quot;Specified object is not a tree.&quot;</span>);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  n = <a class="code" href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node</a>(n, key, klen);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  CHECK(n != NULL, <span class="stringliteral">&quot;Failed to find key in tree.&quot;</span>);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  CHECK(_co_node_set_int(n, value), <span class="stringliteral">&quot;Unable to set integer for node.&quot;</span>);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;error:</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;}</div>
<div class="ttc" id="tree_8c_html_ac2ddc55e7b91f2b50df96d93621cc92d"><div class="ttname"><a href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node</a></div><div class="ttdeci">_treenode_t * co_tree_find_node(_treenode_t *root, const char *key, const size_t klen)</div><div class="ttdoc">find node in given tree </div><div class="ttdef"><b>Definition:</b> tree.c:140</div></div>
<div class="ttc" id="struct__treenode__t_html"><div class="ttname"><a href="struct__treenode__t.html">_treenode_t</a></div><div class="ttdef"><b>Definition:</b> tree.h:44</div></div>
<div class="ttc" id="tree_8c_html_a03bc6725b699b74e9dd8b32f8893b1c2"><div class="ttname"><a href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a></div><div class="ttdeci">_treenode_t * co_tree_root(const co_obj_t *tree)</div><div class="ttdoc">return root node of tree object </div><div class="ttdef"><b>Definition:</b> tree.c:69</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a98d4a71092b76fc213aff11aecfea1cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int co_tree_set_str </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>klen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>vlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set value contained in an object in the tree with a specified key (if a string) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">root</td><td>tree object </td></tr>
    <tr><td class="paramname">key</td><td>key to search for </td></tr>
    <tr><td class="paramname">klen</td><td>length of key </td></tr>
    <tr><td class="paramname">value</td><td>value to insert </td></tr>
    <tr><td class="paramname">vlen</td><td>length of value </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node()</a>, and <a class="el" href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root()</a>.</p>

<p>Referenced by <a class="el" href="profile_8h.html#a47a574eb5005dbbad2d59fafeeded0c6">co_profile_set_str()</a>.</p>
<div class="fragment"><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;{</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  DEBUG(<span class="stringliteral">&quot;Get from tree: %s&quot;</span>, key);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <a class="code" href="struct__treenode__t.html">_treenode_t</a> *n = NULL;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  CHECK((n = <a class="code" href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a>(root)) != NULL, <span class="stringliteral">&quot;Specified object is not a tree.&quot;</span>);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  n = <a class="code" href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node</a>(n, key, klen);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  CHECK(n != NULL, <span class="stringliteral">&quot;Failed to find key in tree.&quot;</span>);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  CHECK(_co_node_set_str(n, value, vlen), <span class="stringliteral">&quot;Unable to set string for node.&quot;</span>);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;error:</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;}</div>
<div class="ttc" id="tree_8c_html_ac2ddc55e7b91f2b50df96d93621cc92d"><div class="ttname"><a href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node</a></div><div class="ttdeci">_treenode_t * co_tree_find_node(_treenode_t *root, const char *key, const size_t klen)</div><div class="ttdoc">find node in given tree </div><div class="ttdef"><b>Definition:</b> tree.c:140</div></div>
<div class="ttc" id="struct__treenode__t_html"><div class="ttname"><a href="struct__treenode__t.html">_treenode_t</a></div><div class="ttdef"><b>Definition:</b> tree.h:44</div></div>
<div class="ttc" id="tree_8c_html_a03bc6725b699b74e9dd8b32f8893b1c2"><div class="ttname"><a href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a></div><div class="ttdeci">_treenode_t * co_tree_root(const co_obj_t *tree)</div><div class="ttdoc">return root node of tree object </div><div class="ttdef"><b>Definition:</b> tree.c:69</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa7fd84b17af9c4402fd66d9778e91413"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int co_tree_set_uint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco__obj__t.html">co_obj_t</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>klen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned long&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set value contained in an object in the tree with a specified key (if an unsigned int) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">root</td><td>tree object </td></tr>
    <tr><td class="paramname">key</td><td>key to search for </td></tr>
    <tr><td class="paramname">klen</td><td>length of key </td></tr>
    <tr><td class="paramname">value</td><td>value to insert </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node()</a>, and <a class="el" href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root()</a>.</p>

<p>Referenced by <a class="el" href="profile_8h.html#a3d73aa2f3f1395cf3ac69bce8cba26d0">co_profile_set_uint()</a>.</p>
<div class="fragment"><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;{</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  DEBUG(<span class="stringliteral">&quot;Get from tree: %s&quot;</span>, key);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <a class="code" href="struct__treenode__t.html">_treenode_t</a> *n = NULL;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  CHECK((n = <a class="code" href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a>(root)) != NULL, <span class="stringliteral">&quot;Specified object is not a tree.&quot;</span>);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  n = <a class="code" href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node</a>(n, key, klen);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  CHECK(n != NULL, <span class="stringliteral">&quot;Failed to find key in tree.&quot;</span>);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  CHECK(_co_node_set_uint(n, value), <span class="stringliteral">&quot;Unable to set unsigned integer for node.&quot;</span>);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;error:</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;}</div>
<div class="ttc" id="tree_8c_html_ac2ddc55e7b91f2b50df96d93621cc92d"><div class="ttname"><a href="tree_8c.html#ac2ddc55e7b91f2b50df96d93621cc92d">co_tree_find_node</a></div><div class="ttdeci">_treenode_t * co_tree_find_node(_treenode_t *root, const char *key, const size_t klen)</div><div class="ttdoc">find node in given tree </div><div class="ttdef"><b>Definition:</b> tree.c:140</div></div>
<div class="ttc" id="struct__treenode__t_html"><div class="ttname"><a href="struct__treenode__t.html">_treenode_t</a></div><div class="ttdef"><b>Definition:</b> tree.h:44</div></div>
<div class="ttc" id="tree_8c_html_a03bc6725b699b74e9dd8b32f8893b1c2"><div class="ttname"><a href="tree_8c.html#a03bc6725b699b74e9dd8b32f8893b1c2">co_tree_root</a></div><div class="ttdeci">_treenode_t * co_tree_root(const co_obj_t *tree)</div><div class="ttdoc">return root node of tree object </div><div class="ttdef"><b>Definition:</b> tree.c:69</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->

<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 6 2014 13:22:05 for commotiond by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
<script type="text/javascript" src="dynsections.js"></script>
</div>
