---
layout: default
title: API Reference - commotion-client
site_section: developers
categories: 
created: 2014-06-06 13:22:04.584366
changed: 2014-06-06 13:22:04.584366
post_author: Commotion
lang: en
---
<div id="doxygen">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part --> 
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Code Standards </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Style</h2>
<p>The code base should comply with <a href="http://legacy.python.org/dev/peps/pep-0008/">PEP 8</a> styling.</p>
<h2>Documentation and Doc-Strings</h2>
<p>Doc Strings should follow the Google style docstrings shown in the google_docstring_example.py file contained in this folder.</p>
<h2>Logging</h2>
<h3>Code</h3>
<h4>Proper Logging</h4>
<p>Every functional file should import the "logging" standard library and create a logger that is a decendant of the main commotion_client logger.</p>
<p>``` import logging</p>
<p>...</p>
<p>self.log = logging.getLogger("commotion_client."+__name__) ```</p>
<h4>Logging and translation</h4>
<p>We use the PyQt translate library to translate text in the Commotion client. The string <code>logs</code>` is used as the "context" for all logging objects. While the translate library will automatically add the class name as the context for most translated strings we would like to seperate out logging strings so that translators working with the project can prioritize it less than critical user facing text.</p>
<p>``` _error = QtCore.QCoreApplication.translate("logs", "That is not a valid extension config value.") self.log.error(_error) ```</p>
<p>Due to the long length of the translation call <code>QtCore.QCoreApplication.translate</code>` feel free to set this value to the variable self.translate at the start of any classes. Please refrain from using another variable name to maintain consistancy actoss the code base.</p>
<p><code>self.translate = QtCore.QCoreApplication.translate</code></p>
<h3>LogLevels</h3>
<p>Logging should correspond to the following levels:</p>
<ul>
<li>critical: The application is going to need to close. There is no possible recovery or alternative behavior. This will generate an error-report (if possible) and is ABSOLUTELY a bug that will need to be addressed if a user reports seeing one of these logs.</li>
<li>error &amp; exception: The application is in distress and has visibly failed to do what was requested of it by the user. These do not have to close the application, and may have failsafes or handling, but should be severe enough to be reported to the user. If a user experiences one of these the application has failed in a way that is a programmers fault. These can generate an error-report at the programmers discression.</li>
<li>warn: An unexpected event has occured. A user may be affected, but adaquate fallbacks and handling can still provide the user with a smooth experience. These are the issues that need to be tracked, but are not neccesarily a bug, but simply the application handling inconsistant environmental conditions or usage.</li>
<li>info: Things you want to see at high volume in case you need to forensically analyze an issue. System lifecycle events (system start, stop) go here. "Session" lifecycle events (login, logout, etc.) go here. Significant boundary events should be considered as well (e.g. database calls, remote API calls). Typical business exceptions can go here (e.g. login failed due to bad credentials). Any other event you think you'll need to see in production at high volume goes here.</li>
<li>debug: Just about everything that doesn't make the "info" cut... any message that is helpful in tracking the flow through the system and isolating issues, especially during the development and QA phases. We use "debug" level logs for entry/exit of most non-trivial methods and marking interesting events and decision points inside methods.</li>
</ul>
<h3>Logging Exeptions</h3>
<p>Exceptions should be logged using the exception handle at the point where they interfeir with the core task. When an exception is handled in the program it should be logged on the debug level. A short description of why an exception is raised should be logged at the debug level wherever an excetion is first raised in the program.</p>
<p>tldr: If you raise an exception, log what happened, but let whomever handles it log the traceback as debug.</p>
<h2>Exception Handling</h2>
<h2>Code</h2>
<h3>Python Version</h3>
<p>All code MUST be compatable with Python3. </p>
</div></div><!-- contents -->

<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 6 2014 13:22:06 for commotion-client by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
<script type="text/javascript" src="dynsections.js"></script>
</div>
