---
layout: default
title: API Reference - commotion-client
site_section: developers
categories: 
created: 2014-06-06 13:22:04.584366
changed: 2014-06-06 13:22:04.584366
post_author: Commotion
lang: en
---
<div id="doxygen">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part --> 
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Build Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Build Folder Structure</h2>
<p>build/ ├── exe.&lt;platform&gt;-&lt;python version&gt;=""&gt;/ ├── README.md &lt;- The file you are reading. ├── resources/ └── scripts/ └──compile_ui.py</p>
<h3>exe.-/</h3>
<p>A set of folders containing all final bundled executables created by cx_freeze in the build process.</p>
<p>Built for a 64 bit linux machine with python3.3 this will look like:</p>
<p><code>exe.linux-x86_64-3.3</code></p>
<p>These folders are not tracked by version control</p>
<h3>scripts/</h3>
<p>All scripts used by the build process</p>
<h3>resources/</h3>
<p>All resources created during the build process.</p>
<p>This includes:</p><ul>
<li>All bundled extensions</li>
<li>Compiled assets file ( commotion_assets_rc.py )</li>
</ul>
<p>This folder is not tracked by version control</p>
<h2>cx_freeze instructions</h2>
<h3>Get cx_freeze</h3>
<p>To build cross platform images we use the <a href="http://cx-freeze.sourceforge.net/">cx_freeze</a> tool.</p>
<p>To install cx_freeze you can <a href="http://cx-freeze.sourceforge.net/index.html">download</a> it or <a href="http://cx-freeze.sourceforge.net/index.html">build it</a> from source using the README provided upon downloading it.</p>
<h4>Fixing Build Errors</h4>
<ul>
<li>I can't build cx_freeze.</li>
</ul>
<p>If you encounter an error like the one below it could be that the version of python you are using was compiled without a shared library.</p>
<p>``` /usr/bin/ld: cannot find -lpython3.3 collect2: error: ld returned 1 exit status error: command 'gcc' failed with exit status 1 ```</p>
<p>You will want to reconfigure &amp; install your version of python using the following option.</p>
<p>``` ./configure &ndash;enable-shared ```</p>
<ul>
<li>python3.3 does not work when I re-compile it with enable-shared</li>
</ul>
<p>If you are using python3.3, which is the version of python being used for this project you may have some problems with runing python3.3 after compiling it with enable-shared. The solution to this is to edit /etc/ld.so.conf or create something in /etc/ld.so.conf.d/ to add /usr/local/lib and /usr/local/lib64. Then run ldconfig.</p>
<h3>Preparing the project for building</h3>
<h4>Adding Extensions to Builds</h4>
<p>Extensions are built-in to the Commotion client by adding them to the extension folder and then adding that folder name to the core_extensions list in the setup.py.</p>
<p>``` core_extensions = ["config_editor", "main_window", "your_extension_name"] ```</p>
<h3>Creating an executable</h3>
<p>Linux:</p><ul>
<li>go to the root directory of the project.</li>
<li>type <code>make linux</code></li>
<li>The executables folder will be created in the build directory.</li>
<li>run the <code>Commotion</code> executable in the executables folder.</li>
</ul>
<h3>The setup script</h3>
<p>The setup.py script in the root directory is not a traditional distutils setup.py script. It is actually a customized cx_freeze setup script. You can find documentation for it on the <a href="http://cx-freeze.readthedocs.org/en/latest/distutils.html">cx_freeze docs site</a> and a searchable mailing list on <a href="http://sourceforge.net/p/cx-freeze/mailman/cx-freeze-users/">sourceforge</a>. </p>
</div></div><!-- contents -->

<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 6 2014 13:22:06 for commotion-client by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
<script type="text/javascript" src="dynsections.js"></script>
</div>
